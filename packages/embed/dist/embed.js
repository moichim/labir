const zt="1.2.7",Gt={type:"git",url:"https://github.com/moichim/labir"},Kt="Jan JÃ¡chim <jachim5@gmail.com>";var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ae={exports:{}};(function(t,e){var s=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof He<"u"&&He,r=function(){function n(){this.fetch=!1,this.DOMException=s.DOMException}return n.prototype=s,new n}();(function(n){(function(o){var l=typeof n<"u"&&n||typeof self<"u"&&self||typeof l<"u"&&l,h={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function d(a){return a&&DataView.prototype.isPrototypeOf(a)}if(h.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function(a){return a&&u.indexOf(Object.prototype.toString.call(a))>-1};function p(a){if(typeof a!="string"&&(a=String(a)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(a)||a==="")throw new TypeError('Invalid character in header field name: "'+a+'"');return a.toLowerCase()}function y(a){return typeof a!="string"&&(a=String(a)),a}function x(a){var c={next:function(){var f=a.shift();return{done:f===void 0,value:f}}};return h.iterable&&(c[Symbol.iterator]=function(){return c}),c}function m(a){this.map={},a instanceof m?a.forEach(function(c,f){this.append(f,c)},this):Array.isArray(a)?a.forEach(function(c){this.append(c[0],c[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(c){this.append(c,a[c])},this)}m.prototype.append=function(a,c){a=p(a),c=y(c);var f=this.map[a];this.map[a]=f?f+", "+c:c},m.prototype.delete=function(a){delete this.map[p(a)]},m.prototype.get=function(a){return a=p(a),this.has(a)?this.map[a]:null},m.prototype.has=function(a){return this.map.hasOwnProperty(p(a))},m.prototype.set=function(a,c){this.map[p(a)]=y(c)},m.prototype.forEach=function(a,c){for(var f in this.map)this.map.hasOwnProperty(f)&&a.call(c,this.map[f],f,this)},m.prototype.keys=function(){var a=[];return this.forEach(function(c,f){a.push(f)}),x(a)},m.prototype.values=function(){var a=[];return this.forEach(function(c){a.push(c)}),x(a)},m.prototype.entries=function(){var a=[];return this.forEach(function(c,f){a.push([f,c])}),x(a)},h.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function k(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function Be(a){return new Promise(function(c,f){a.onload=function(){c(a.result)},a.onerror=function(){f(a.error)}})}function Dt(a){var c=new FileReader,f=Be(c);return c.readAsArrayBuffer(a),f}function Bt(a){var c=new FileReader,f=Be(c);return c.readAsText(a),f}function Ft(a){for(var c=new Uint8Array(a),f=new Array(c.length),v=0;v<c.length;v++)f[v]=String.fromCharCode(c[v]);return f.join("")}function Fe(a){if(a.slice)return a.slice(0);var c=new Uint8Array(a.byteLength);return c.set(new Uint8Array(a)),c.buffer}function Ue(){return this.bodyUsed=!1,this._initBody=function(a){this.bodyUsed=this.bodyUsed,this._bodyInit=a,a?typeof a=="string"?this._bodyText=a:h.blob&&Blob.prototype.isPrototypeOf(a)?this._bodyBlob=a:h.formData&&FormData.prototype.isPrototypeOf(a)?this._bodyFormData=a:h.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)?this._bodyText=a.toString():h.arrayBuffer&&h.blob&&d(a)?(this._bodyArrayBuffer=Fe(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(a)||g(a))?this._bodyArrayBuffer=Fe(a):this._bodyText=a=Object.prototype.toString.call(a):this._bodyText="",this.headers.get("content-type")||(typeof a=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var a=k(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var a=k(this);return a||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(Dt)}),this.text=function(){var a=k(this);if(a)return a;if(this._bodyBlob)return Bt(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Ft(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(qt)}),this.json=function(){return this.text().then(JSON.parse)},this}var Ut=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Ht(a){var c=a.toUpperCase();return Ut.indexOf(c)>-1?c:a}function $(a,c){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');c=c||{};var f=c.body;if(a instanceof $){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,c.headers||(this.headers=new m(a.headers)),this.method=a.method,this.mode=a.mode,this.signal=a.signal,!f&&a._bodyInit!=null&&(f=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=c.credentials||this.credentials||"same-origin",(c.headers||!this.headers)&&(this.headers=new m(c.headers)),this.method=Ht(c.method||this.method||"GET"),this.mode=c.mode||this.mode||null,this.signal=c.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&f)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(f),(this.method==="GET"||this.method==="HEAD")&&(c.cache==="no-store"||c.cache==="no-cache")){var v=/([?&])_=[^&]*/;if(v.test(this.url))this.url=this.url.replace(v,"$1_="+new Date().getTime());else{var _=/\?/;this.url+=(_.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}$.prototype.clone=function(){return new $(this,{body:this._bodyInit})};function qt(a){var c=new FormData;return a.trim().split("&").forEach(function(f){if(f){var v=f.split("="),_=v.shift().replace(/\+/g," "),b=v.join("=").replace(/\+/g," ");c.append(decodeURIComponent(_),decodeURIComponent(b))}}),c}function Vt(a){var c=new m,f=a.replace(/\r?\n[\t ]+/g," ");return f.split("\r").map(function(v){return v.indexOf(`
`)===0?v.substr(1,v.length):v}).forEach(function(v){var _=v.split(":"),b=_.shift().trim();if(b){var re=_.join(":").trim();c.append(b,re)}}),c}Ue.call($.prototype);function C(a,c){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');c||(c={}),this.type="default",this.status=c.status===void 0?200:c.status,this.ok=this.status>=200&&this.status<300,this.statusText=c.statusText===void 0?"":""+c.statusText,this.headers=new m(c.headers),this.url=c.url||"",this._initBody(a)}Ue.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},C.error=function(){var a=new C(null,{status:0,statusText:""});return a.type="error",a};var jt=[301,302,303,307,308];C.redirect=function(a,c){if(jt.indexOf(c)===-1)throw new RangeError("Invalid status code");return new C(null,{status:c,headers:{location:a}})},o.DOMException=l.DOMException;try{new o.DOMException}catch{o.DOMException=function(c,f){this.message=c,this.name=f;var v=Error(c);this.stack=v.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function fe(a,c){return new Promise(function(f,v){var _=new $(a,c);if(_.signal&&_.signal.aborted)return v(new o.DOMException("Aborted","AbortError"));var b=new XMLHttpRequest;function re(){b.abort()}b.onload=function(){var E={status:b.status,statusText:b.statusText,headers:Vt(b.getAllResponseHeaders()||"")};E.url="responseURL"in b?b.responseURL:E.headers.get("X-Request-URL");var ie="response"in b?b.response:b.responseText;setTimeout(function(){f(new C(ie,E))},0)},b.onerror=function(){setTimeout(function(){v(new TypeError("Network request failed"))},0)},b.ontimeout=function(){setTimeout(function(){v(new TypeError("Network request failed"))},0)},b.onabort=function(){setTimeout(function(){v(new o.DOMException("Aborted","AbortError"))},0)};function Wt(E){try{return E===""&&l.location.href?l.location.href:E}catch{return E}}b.open(_.method,Wt(_.url),!0),_.credentials==="include"?b.withCredentials=!0:_.credentials==="omit"&&(b.withCredentials=!1),"responseType"in b&&(h.blob?b.responseType="blob":h.arrayBuffer&&_.headers.get("Content-Type")&&_.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(b.responseType="arraybuffer")),c&&typeof c.headers=="object"&&!(c.headers instanceof m)?Object.getOwnPropertyNames(c.headers).forEach(function(E){b.setRequestHeader(E,y(c.headers[E]))}):_.headers.forEach(function(E,ie){b.setRequestHeader(ie,E)}),_.signal&&(_.signal.addEventListener("abort",re),b.onreadystatechange=function(){b.readyState===4&&_.signal.removeEventListener("abort",re)}),b.send(typeof _._bodyInit>"u"?null:_._bodyInit)})}return fe.polyfill=!0,l.fetch||(l.fetch=fe,l.Headers=m,l.Request=$,l.Response=C),o.Headers=m,o.Request=$,o.Response=C,o.fetch=fe,o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=s.fetch?s:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(Ae,Ae.exports);var Yt=Ae.exports;const Jt=Xt(Yt);var A=class{constructor(t,e){this.parent=t,this._initial=e,this._listeners={},this._value=this.validate(this._initial)}reset(){this.value=this._initial}get value(){return this._value}set value(t){this._value=this.validate(t),this.afterSetEffect(this._value),Object.values(this._listeners).forEach(e=>e(this._value))}addListener(t,e){t in this._listeners&&delete this._listeners[t],this._listeners[t]=e}removeListener(t){t in this._listeners&&delete this._listeners[t]}clearAllListeners(){this._listeners={}}},Qt=class extends A{validate(t){return t}afterSetEffect(){}recalculateFromCursor(t){t&&(this.value=this._getValueAtCoordinate(t.x,t.y))}_getValueAtCoordinate(t,e){if(t===void 0||e===void 0)return;const s=t+e*this.parent.width;return this.parent.pixels[s]}},de=class{constructor(t){this.instance=t,this._mounted=!1}get mounted(){return this._mounted}mount(){this._mounted||this.instance.root!==null&&(this._mounted=!0,this.instance.root.appendChild(this.getLayerRoot()))}unmount(){this._mounted&&this.instance.root!==null&&(this._mounted=!1,this.instance.root.removeChild(this.getLayerRoot()))}destroy(){this.onDestroy()}},S=class Te{static createCanvasContainer(){const e=document.createElement("div");return e.classList.add("thermalCanvasWeapper"),e.style.position="relative",e}static createCanvas(){const e=document.createElement("canvas");return e.classList.add("thermalCanvas"),e.style.padding="0px",e.style.margin="0px",e.style.objectFit="contain",e.style.width="100%",e.style.height="100%",e.style.objectPosition="top left",e}static createDateLayer(){const e=document.createElement("div");return e.classList.add("dateLayer"),e.style.margin="0px",e.style.padding="0px",e.style.position="absolute",e.style.top="0px",e.style.left="0%",e.style.width="100%",e.style.fontSize="small",e}static createDateLayerInner(){const e=document.createElement("div");return e.classList.add("dateLayerInner"),e.style.margin="0px",e.style.padding=".3rem 0rem",e.style.backgroundColor="black",e.style.color="white",e.style.borderRadius=".5rem .5rem 0 0",e.style.width="calc(100% + 4px )",e.style.position="absolute",e.style.top="0rem",e.style.left="-2px",e.style.opacity="0",e.style.transition="opacity .1s ease-in-out",e.style.textAlign="center",e}static createVisibleLayer(){const e=document.createElement("div");return e.classList.add("visibleLayer"),e.style.margin="0px",e.style.padding="0px",e.style.height="100%",e.style.width="100%",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e}static createVisibleImage(){const e=document.createElement("img");return e.classList.add("visibleLayerImage"),e.style.padding="0px",e.style.margin="0px",e.style.objectFit="contain",e.style.width="100%",e.style.height="100%",e.style.objectPosition="top left",e}static createListener(){const e=document.createElement("div");return e.classList.add("thermalListener"),e.style.margin="0px",e.style.padding="0px",e.style.height="100%",e.style.width="100%",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.cursor="pointer",e.setAttribute("id",Math.random().toString()),e}static createCursorLayerRoot(){const e=document.createElement("div");return e.classList.add("cursorLayerRoot"),e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.opacity="0",e.style.overflow="hidden",e.style.lineHeight="1rem",e}static createCursorLayerCenter(){const e=document.createElement("div");return e.classList.add("cursorLayerCenter"),e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.width="0px",e.style.height="0px",e}static createCursorLayerAxeBase(){const e=document.createElement("div");return e.classList.add("cursorLayerAxe"),e.style.backdropFilter="invert(100)",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.content="",e}static createCursorLayerX(){const e=Te.createCursorLayerAxeBase();return e.classList.add("cursorLayerAxeX"),e.style.width="1px",e.style.height="20px",e.style.top="-10px",e}static createCursorLayerY(){const e=Te.createCursorLayerAxeBase();return e.classList.add("cursorLayerAxeY"),e.style.width="20px",e.style.height="1px",e.style.left="-10px",e}static createCursorLayerLabel(){const e=document.createElement("div");return e.classList.add("cursorLayerLabel"),e.style.position="absolute",e.style.padding="1px 3px",e.style.backgroundColor="rgba( 0,0,0,0.5 )",e.style.color="white",e.style.whiteSpace="nowrap",e.style.fontSize="small",e.style.borderRadius="5px",e}},Zt=class extends de{constructor(t,e){super(t),this._url=e,this.container=S.createVisibleLayer(),this._url&&(this.image=S.createVisibleImage(),this.url=this._url,this.container.appendChild(this.image))}get url(){return this._url}set url(t){this._url=t,this.image&&t&&(this.image.src=t)}get exists(){return this._url!==void 0}getLayerRoot(){return this.container}onDestroy(){this.image&&this.image.remove(),this.container.remove()}},es=class extends de{constructor(t){super(t),this._opacity=1,this.container=S.createCanvasContainer(),this.canvas=S.createCanvas(),this.canvas.width=this.instance.width,this.canvas.height=this.instance.height,this.context=this.canvas.getContext("2d"),this.container.appendChild(this.canvas)}get width(){return this.instance.width}get height(){return this.instance.height}get pixels(){return this.instance.pixels}get from(){return this.instance.group.registry.range.value?this.instance.group.registry.range.value.from:this.instance.min}get to(){return this.instance.group.registry.range.value?this.instance.group.registry.range.value.to:this.instance.max}get opacity(){return this._opacity}set opacity(t){this._opacity=Math.max(Math.min(t,1),0),this._opacity!==1?this.getLayerRoot().style.opacity=this._opacity.toString():this.getLayerRoot().style.removeProperty("opacity")}getLayerRoot(){return this.container}onDestroy(){this.canvas.remove(),this.container.remove()}getPalette(){return this.instance.group.registry.palette.currentPalette.pixels}draw(){const t=this.to-this.from;for(let e=0;e<=this.width;e++)for(let s=0;s<=this.height;s++){const r=e+s*this.width;let i=this.pixels[r];i<this.from&&(i=this.from),i>this.to&&(i=this.to);const o=(i-this.from)/t,l=Math.round(255*o),h=this.getPalette()[l];this.context.fillStyle=h,this.context.fillRect(e,s,1,1)}}},ts=class extends de{constructor(t){super(t),this._show=!1,this._hover=!1,this.layerRoot=S.createCursorLayerRoot(),this.center=S.createCursorLayerCenter(),this.axisX=S.createCursorLayerX(),this.axisY=S.createCursorLayerY(),this.label=S.createCursorLayerLabel(),this.layerRoot.appendChild(this.center),this.center.appendChild(this.axisX),this.center.appendChild(this.axisY),this.center.appendChild(this.label)}get show(){return this._show}set show(t){this._show=t,this.layerRoot.style.opacity=this._show?"1":"0"}get hover(){return this._hover}set hover(t){this._hover=t,this.label.style.backgroundColor=this._hover?"black":"rgba( 0,0,0,0.5 )"}setCursor(t,e,s){if(this.instance.root!==null){const r=this.instance.root.offsetWidth/this.instance.width,i=Math.round(t*r),n=Math.round(e*r);this.center.style.left=this.px(i),this.center.style.top=this.px(n),t>this.instance.width/3?(this.label.style.right="3px",this.label.style.removeProperty("left")):(this.label.style.left="3px",this.label.style.removeProperty("right")),e>this.instance.height/4?this.label.style.bottom!=="3px"&&(this.label.style.bottom="3px",this.label.style.removeProperty("top")):this.label.style.top!=="3px"&&(this.label.style.top="3px",this.label.style.removeProperty("bottom")),this.label.innerHTML=`${s.toFixed(3)} Â°C`}}resetCursor(){this.center.style.top="0px",this.center.style.left="0px",this.label.style.removeProperty("right"),this.label.style.removeProperty("bottom"),this.label.style.top="3px",this.label.style.left="3px",this.label.innerHTML=""}px(t){return`${t}px`}getLayerRoot(){return this.layerRoot}onDestroy(){this.label.remove(),this.axisX.remove(),this.axisY.remove(),this.center.remove(),this.layerRoot.remove()}},ss=class extends de{constructor(t){super(t),this.container=S.createListener()}getLayerRoot(){return this.container}onDestroy(){this.container.remove()}},rs=class extends EventTarget{constructor(t,e){super(),this.source=t,this.group=e,this.root=null,this.canvasLayer=new es(this),this.visibleLayer=new Zt(this,this.visibleUrl),this.cursorLayer=new ts(this),this.listenerLayer=new ss(this),this._mounted=!1,this._onHover=void 0,this._onClick=void 0,this.cursorValue=new Qt(this,void 0),this._isHover=!1,this.id=`instance_${this.group.id}_${this.source.url}`,this.horizontalLimit=this.width/4*3,this.verticalLimit=this.height/4*3}get url(){return this.source.url}get signature(){return this.source.signature}get unit(){return this.source.unit}get width(){return this.source.width}get height(){return this.source.height}get timestamp(){return this.source.timestamp}get pixels(){return this.source.pixels}get min(){return this.source.min}get max(){return this.source.max}get visibleUrl(){return this.source.visibleUrl}destroySelfAndBelow(){this.detachFromDom()}removeAllChildren(){this.detachFromDom()}reset(){}get mountedBaseLayers(){return this._mounted}set mountedBaseLayers(t){this._mounted=t}attachToDom(t){(this.root!==null||this.mountedBaseLayers===!0)&&(console.warn(`The instance ${this.id} has already mounted base layers therefore the inner DOM tree is deleted and built from the scratch.`),this.detachFromDom(),this.unmountListener()),this.root=t,this.root.style.transition="border-color .1s ease-in-out",this.root.style.zIndex="10",this.root.style.position="relative",this.root.style.lineHeight="0",this.visibleLayer.exists&&this.visibleLayer.mount(),this.canvasLayer.mount(),this.cursorLayer.mount(),this.root.dataset.thermalFile=this.id,this.root.dataset.mounted="true",this.mountListener(),this.mountedBaseLayers=!0}detachFromDom(){this.root===void 0&&console.warn(`The instance ${this.id} does not have a root, therefore the base layers can not be unmounted.`),this.root&&(this.root.dataset.mounted="false",this.root.dataset.thermalFile=void 0),this.visibleLayer.unmount(),this.canvasLayer.unmount(),this.cursorLayer.unmount(),this.unmountListener(),this.mountedBaseLayers=!1}mountListener(){if(this.root===void 0){console.warn(`The instance ${this.id} does not have a root, therefore the listener can not be mounted.`);return}this.listenerLayer.mount(),this.listenerLayer.getLayerRoot().onmousemove=t=>{this.cursorLayer.show=!0,this.isHover=!0;const e=this.width,s=this.root.clientWidth,r=e/s,i=Math.round(t.offsetX*r),n=Math.round(t.offsetY*r);this.group.cursorPosition.recieveCursorPosition({x:i,y:n}),this._onHover&&this._onHover(t,this)},this.listenerLayer.getLayerRoot().onmouseleave=()=>{this.cursorLayer.show=!1,this.isHover=!1,this.group.cursorPosition.recieveCursorPosition(void 0)},this.listenerLayer.getLayerRoot().onclick=t=>{this._onClick&&this._onClick(t,this)}}unmountListener(){this.listenerLayer.unmount()}mountToDom(t){this.attachToDom(t)}unmountFromDom(){this.detachFromDom()}setHoverHandler(t){this._onHover=t}setHoverCursor(t){this.root&&this.root.style.cursor!==t&&(this.root.style.cursor=t)}setClickHandler(t=void 0){this._onClick=t}draw(){this.mountedBaseLayers===!0&&this.canvasLayer.draw()}recievePalette(t){console.log(t),this.draw()}get isHover(){return this._isHover}set isHover(t){this._isHover=t}recieveCursorPosition(t){this.cursorValue.recalculateFromCursor(t),t!==void 0&&this.cursorValue.value!==void 0?(this.cursorLayer.setCursor(t.x,t.y,this.cursorValue.value),this.cursorLayer.show=!0):(this.cursorLayer.show=!1,this.cursorLayer.resetCursor())}getTemperatureAtPoint(t,e){const s=e*this.width+t;return this.pixels[s]}recieveRange(t){t!==void 0&&this.draw()}recieveOpacity(t){this.visibleLayer&&this.canvasLayer&&(this.canvasLayer.opacity=t)}},V=class ft extends EventTarget{constructor(e,s,r,i,n,o,l,h,d,u,g,p,y){super(),this.url=e,this.signature=s,this.version=r,this.streamCount=i,this.fileDataType=n,this.unit=o,this.width=l,this.height=h,this.timestamp=d,this.pixels=u,this.min=g,this.max=p,this.visibleUrl=y}static async fromUrl(e,s){try{return await ke.fromUrl(e,s)}catch{return null}}static async fromUrlWithErrors(e,s){return await ke.fromUrl(e,s)}serialize(){return JSON.stringify(this)}static fromStorage(e){const s=JSON.parse(e);return new ft(s.url,s.signature,s.version,s.streamCount,s.fileDataType,s.unit,s.width,s.height,s.timestamp,s.pixels,s.min,s.max,s.visibleUrl)}createInstance(e){return new rs(this,e)}},is=class{constructor(t,e,s){this.url=t,this.blob=e,this.visibleUrl=s,this.isValidTimestamp=r=>Number.isInteger(r),this.isValidWidth=r=>Number.isInteger(r),this.isValidHeight=r=>Number.isInteger(r),this.isValidPixels=r=>r!==void 0&&r.length===this.width*this.height,this.isValidMin=r=>r!==void 0,this.isValidMax=r=>r!==void 0,this.errors=[]}async init(){const t=await this.blob.arrayBuffer();return this.data=new DataView(t),this}async parse(){return await this.init(),await this.parseFile(),this.getThermalFile()}parseTimestamp(){const t=this.getTimestamp();this.isValidTimestamp(t)||this.logValidationError("timestamp",t),this.timestamp=t}parseWidth(){const t=this.getWidth();this.isValidWidth(t)||this.logValidationError("width",t),this.width=t}parseHeight(){const t=this.getHeight();this.isValidHeight(t)||this.logValidationError("height",t),this.height=t}async parsePixels(){const t=await this.getPixels();this.pixels=t}parseMin(){const t=this.getMin();this.isValidMin(t)||this.logValidationError("min",t),this.min=t}parseMax(){const t=this.getMax();this.isValidMax(t)||this.logValidationError("max",t),this.max=t}logError(t){console.error(t),this.errors.push(t)}logValidationError(t,e){const s=`Invalid ${t} of ${this.url}: '${e.toString()}'`;this.logError(s)}getErrors(){return this.errors}encodeErrors(){return this.errors.join("+|+")}static decodeErrors(t){return t.split("+|+")}},os=class extends is{constructor(){super(...arguments),this.isValidSignature=t=>t==="LRC\0",this.isValidVersion=t=>t===2,this.isStreamCountValid=t=>t===1,this.isDataTypeValid=t=>t===void 0?!1:[0,1,2].includes(t),this.isValidUnit=t=>t===2}async parseFile(){await this.parseSignature(),this.parseVersion(),this.parseDataType(),this.parseStreamCount(),this.parseTimestamp(),this.parseUnit(),this.parseWidth(),this.parseHeight(),this.parseMin(),this.parseMax(),await this.parsePixels()}async parseSignature(){const t=await this.readString(0,4);this.isValidSignature(t)||this.logValidationError("signature",t),this._signature=t}parseVersion(){const t=this.read8bNumber(4);this.isValidVersion(t)||this.logValidationError("version",t),this._version=t}parseStreamCount(){const t=this.read8bNumber(14);this.isStreamCountValid(t)||this.logValidationError("streamCount",t),this._streamCount=t}parseDataType(){const t=this.read8bNumber(15);this.isDataTypeValid(t)||this.logValidationError("fileDataType",t),this._fileDataType=t}parseUnit(){const t=this.read8bNumber(16);this.isValidUnit(t)||this.logValidationError("unit",t),this._unit=t}getWidth(){return this.read16bNumber(17)}getHeight(){return this.read16bNumber(19)}getTimestamp(){const t=this.data.getBigInt64(25,!0),e=62135596800000n,s=10000n,r=24n*60n*60n*1000n*s,i=0x4000000000000000n,n=0x8000000000000000n;let l=t&0x3FFFFFFFFFFFFFFFn;t&n&&(l>i-r&&(l-=i),l<0&&(l+=r));const d=l/s-e;return Number(d)}async readTemperatureArray(t){const e=(await this.blob.arrayBuffer()).slice(t);if(this._fileDataType===0){const s=new Uint16Array(e),r=Math.abs(this.min-this.max),i=65535;return[...s].map(n=>{const o=n/i;return this.min+r*o})}else if(this._fileDataType===1)return[...new Float32Array(e)];return[]}getPixels(){return this.readTemperatureArray(82)}getMin(){return this.data.getFloat32(33,!0)}getMax(){return this.data.getFloat32(37,!0)}isValid(){return this.errors.length===0&&this.isValidSignature(this._signature)&&this.isStreamCountValid(this._streamCount)&&this.isDataTypeValid(this._fileDataType)&&this.isValidVersion(this._version)&&this.isValidUnit(this._unit)&&this.isValidTimestamp(this.timestamp)&&this.isValidWidth(this.width)&&this.isValidHeight(this.height)&&this.isValidPixels(this.pixels)&&this.isValidMin(this.min)&&this.isValidMax(this.max)}getThermalFile(){if(!this.isValid())throw new Error(this.encodeErrors());return new V(this.url,this._signature,this._version,this._streamCount,this._fileDataType,this._unit,this.width,this.height,this.timestamp,this.pixels,this.min,this.max,this.visibleUrl)}async readString(t,e){return await this.blob.slice(t,e).text()}read16bNumber(t){return this.data.getUint16(t,!0)}read8bNumber(t){return this.data.getUint8(t)}},ke=class $e{constructor(){}static async fromUrl(e,s){const r=new $e;return r.thermalUrl=e,r.visibleUrl=s,await r.loadFromUrl()}async loadFromUrl(){const e=await Jt(this.thermalUrl);if(this.blob=await e.blob(),e.status!==200)throw new Error(`There was an error loading '${this.thermalUrl}'`);return this.parser=this.getParserInstance(),await this.parser.parse()}static async fromFile(e){const s=new $e;return s.thermalUrl=e.name,s.blob=e,await s.loadFromBlob()}async loadFromBlob(){return this.parser=this.getParserInstance(),await this.parser.parse()}getParserInstance(){if(this.thermalUrl.endsWith(".lrc"))return new os(this.thermalUrl,this.blob,this.visibleUrl);throw new Error("No parser found!")}},ns=class extends A{validate(t){return Math.min(Math.max(0,t),1)}afterSetEffect(t){this.parent.forEveryInstance(e=>e.recieveOpacity(t))}imposeOpacity(t){return this.value=t,this.value}},as=class extends A{validate(t){if(t===void 0)return;const e=this.parent.minmax.value;if(e===void 0)return t;const s={...t};return t.from<e.min&&(s.from=e.min),t.to>e.max&&(s.to=e.max),s}afterSetEffect(t){t&&this.parent.forEveryInstance(e=>e.recieveRange(t))}imposeRange(t){return t===void 0&&this.value===void 0||t===void 0&&this.value!==void 0&&(this.value=t),t!==void 0&&this.value===void 0?this.value=t:t!==void 0&&this.value!==void 0&&(this.value.from!==t.from||this.value.to!==t.to)&&(this.value=t),this.value}},ls=class extends A{constructor(){super(...arguments),this._hover=this.value!==void 0}get hover(){return this._hover}validate(t){return t}afterSetEffect(t){this._hover=this.value!==void 0,this.parent.instances.forEveryInstance(e=>e.recieveCursorPosition(t))}recieveCursorPosition(t){this.value=t}},hs=class extends A{constructor(){super(...arguments),this._requestedRemovals=new Map,this._map=new Map}enqueueAdd(t,e,s){this.parent.registry.fetcher.request(t,e,(r,i)=>{if(r instanceof V){const n=this.instantiateSource(r);s&&s(n)}else s&&s(void 0,i??"NÄco se pokazilo v instanci")})}enqueueRemove(t,e){this._requestedRemovals.has(t)?e&&this._requestedRemovals.get(t).callbacks.push(e):this._requestedRemovals.set(t,{url:t,callbacks:e?[e]:[]})}async cleanup(){const t=Object.values(this._requestedRemovals).map(e=>e.url);this.value=this.value.filter(e=>{var r;return t.includes(e.url)?((r=this._requestedRemovals.get(e.url))==null||r.callbacks.forEach(i=>i()),!0):!1}),this._requestedRemovals.clear(),this.parent.registry.postLoadedProcessing()}get map(){return this._map}validate(t){return t}afterSetEffect(t){this.map.clear(),t.forEach(e=>this._map.set(e.url,e))}instantiateSource(t){if(this._map.has(t.url))return this._map.get(t.url);{const e=t.createInstance(this.parent);return this.value=[...this.value,e],e}}instantiateSources(t){const e=[];t.forEach(s=>{this._map.has(s.url)||e.push(s.createInstance(this.parent))}),this.value=e}removeAllInstances(){this.forEveryInstance(t=>t.destroySelfAndBelow()),this.value=[]}forEveryInstance(t){this.value.forEach(e=>t(e))}},bt=class extends A{get distanceInCelsius(){if(this.value!==void 0)return Math.abs(this.value.min-this.value.max)}},cs=class extends bt{validate(t){return t}afterSetEffect(){}recalculateFromInstances(){return this.value=this._getMinmaxFromInstances(),this.value}_getMinmaxFromInstances(){const t=this.parent.instances.value;if(t.length!==0)return t.reduce((e,s)=>s.min<e.min||s.max>e.max?{min:s.min<e.min?s.min:e.min,max:s.max>e.max?s.max:e.max}:e,{min:1/0,max:-1/0})}},ds=class{constructor(t,e,s,r){this.registry=t,this.id=e,this.name=s,this.description=r,this.hash=Math.random(),this.minmax=new cs(this,void 0),this.instances=new hs(this,[]),this.cursorPosition=new ls(this,void 0),this.forEveryInstance=i=>{this.instances.value.forEach(n=>i(n))}}destroySelfAndBelow(){this.removeAllChildren(),this.minmax.reset()}removeAllChildren(){this.instances.removeAllInstances()}reset(){this.instances.reset(),this.minmax.reset(),this.cursorPosition.reset()}},us=class extends A{constructor(){super(...arguments),this._map=new Map}get map(){return this._map}validate(t){return t}afterSetEffect(t){this._map.clear(),t.forEach(e=>this._map.set(e.id,e))}addOrGetGroup(t,e,s){if(this._map.has(t))return this._map.get(t);const r=new ds(this.parent,t,e,s);return this._map.set(t,r),this.value.push(r),this.value=[...this.value],r}removeGroup(t){var e;this._map.has(t)&&((e=this._map.get(t))==null||e.destroySelfAndBelow(),this._map.delete(t),this.value=Array.from(this._map.values()))}removeAllGroups(){this.value.forEach(t=>t.destroySelfAndBelow()),this.value=[]}},gs=class extends A{constructor(){super(...arguments),this._resolution=50,this.buffer=new Map,this.bufferPixelsCount=0,this._bufferResolution=1e3}get resolution(){return this._resolution}set bufferResolution(t){this._bufferResolution=Math.round(Math.max(t,1e3))}get bufferResolution(){return this._bufferResolution}setResolution(t){this._resolution=Math.round(Math.min(Math.max(t,2),200))}validate(t){return t.length!==this.resolution+1&&t.length,t}afterSetEffect(){}recalculateWithCurrentSetting(){return this.recalculateHistogram(),this.value}refreshBufferFromCurrentPixels(){const t=new Map;let e=0;if(this.parent.minmax!==void 0&&this.parent.groups.value.length!==0){const s=this.parent.minmax.distanceInCelsius;if(s!==void 0){const r=s/this._bufferResolution,i=this.parent.minmax.value;let n=[];this.parent.forEveryInstance(l=>{n=[...n,...l.pixels]}),n.sort((l,h)=>l-h);let o=i.min+r;for(;o!==!1;){const l=n.findIndex(u=>u>=o),h=n.slice(0,l).length;t.set(o-r/2,h),e+=h,n=n.slice(l);const d=o+r;o=d<=i.max?d:!1}}}this.buffer=t,this.bufferPixelsCount=e}recalculateHistogram(){if(this.parent.minmax.value!==void 0&&this.parent.minmax.distanceInCelsius!==void 0){let t=Array.from(this.buffer.keys()),e=Array.from(this.buffer.values());const s=this.parent.minmax.value,r=this.parent.minmax.distanceInCelsius/this.resolution,i=[];let n=0,o=s.min;for(;o<s.max;){const h=o,d=o+r,u=t.findIndex(x=>x>=d),p=e.slice(0,u).reduce((x,m)=>x+m,0),y=p/this.bufferPixelsCount;i.push({from:h,to:d,percentage:y,count:p}),n<p&&(n=p),t=t.slice(u),e=e.slice(u),o+=r}const l=i.map(h=>({...h,height:h.count/n*100}));this.value=l}}_getHistorgramFromAllGroups(){if(this.parent.minmax.value===void 0||this.parent.groups.value.length,this.parent.minmax.value===void 0||this.parent.groups.value.length===0)return[];{const t=this.parent.groups.value.reduce((d,u)=>{const g=u.instances.value.reduce((p,y)=>(p=[...p,...y.pixels],p),[]);return[...d,...g]},[]),e=[],s=this.resolution,i=(this.parent.minmax.value.max-this.parent.minmax.value.min)/s;for(let d=0;d<s;d++){const u=i*d+this.parent.minmax.value.min,g=u+i;e.push([u,g])}const n=[];let o=t.length;for(const d of e){const u=t.filter(g=>g>=d[0]&&g<d[1]).length;o=o+u,n.push({from:d[0],to:d[1],count:u})}const l=n.map(d=>({...d,percentage:d.count/o*100})),h=Math.max(...l.map(d=>d.percentage));return l.map(d=>({...d,height:d.percentage/h*100}))}}},ps=class extends A{validate(t){return t}afterSetEffect(){}markAsLoading(){this.value=!0}markAsLoaded(){this.value=!1}},fs=class extends bt{validate(t){return t}afterSetEffect(){}recalculateFromGroups(){const t=this.parent.groups.value;return this.value=this._getMinmaxFromAllGroups(t),this.value}_getMinmaxFromAllGroups(t){return t.length===0?void 0:t.reduce((s,r)=>r.minmax.value===void 0?s:{min:r.minmax.value.min<s.min?r.minmax.value.min:s.min,max:r.minmax.value.max>s.max?r.minmax.value.max:s.max},{min:1/0,max:-1/0})}},bs=class{constructor(t){this.registry=t,this.requests=new Map}get requestArray(){return Array.from(this.requests.values())}request(t,e,s){var r;if(this.requests.has(t))s&&((r=this.requests.get(t))==null||r.callbacks.push(s));else{const i={thermalUrl:t,visibleUrl:e,callbacks:s?[s]:[]};this.requests.set(t,i)}this.timer===void 0&&(this.timer=setTimeout(this.resolve.bind(this),0))}async resolve(){const t=await Promise.all(this.requestArray.map(async e=>{const s={request:e};if(this.registry.manager.isUrlRegistered(e.thermalUrl))s.output=this.registry.manager.sourcesByUrl[e.thermalUrl];else try{const r=await V.fromUrlWithErrors(e.thermalUrl,e.visibleUrl);r&&(s.output=r)}catch(r){r instanceof Error&&(s.output=r.message)}return s})).then(e=>e.map(s=>(s.output instanceof V?s.request.callbacks.forEach(r=>{r(s.output),this.registry.manager.registerSource(s.output)}):s.request.callbacks.forEach(r=>{s.output instanceof V||r(void 0,s.output??"NÄco se pokazilo")}),s.output)));return clearTimeout(this.timer),this.timer=void 0,t}},qe=class Oe extends EventTarget{constructor(e,s,r){super(),this.group=e,this.url=s,this.visibleUrl=r}static single(e,s,r){return new Oe(e,s,r)}static multiple(e,s){return s.map(r=>new Oe(e,r.thermalUrl,r.visibleUrl))}async fetch(){if(this.group.registry.manager.isUrlRegistered(this.url))return{file:this.group.registry.manager.sourcesByUrl[this.url],request:this};const e=await V.fromUrl(this.url,this.visibleUrl);if(e){if(e!==null)return{file:e,request:this}}else return null;return null}},ys=class{constructor(t){this.registry=t,this._requests=[]}get requests(){return this._requests}get loading(){return this.registry.loading.value}requestFile(t,e,s){if(this.loading===!0){console.error(`The registry ${this.registry.id} is already loading! Can not request  a single file!`);return}this._requests.push(qe.single(t,e,s))}requestFiles(t,e){if(this.loading===!0){console.error(`The group ${this.registry.id} is already loading! Can not request multiple files!`);return}this._requests=[...this._requests,...qe.multiple(t,e)]}async resolveQuery(){this.loading;const t=await Promise.all(this._requests.map(s=>s.fetch())),e={};for(const s of t)if(s!==null){const r=this.registry.manager.registerSource(s.file);s.request.group.id in e?e[s.request.group.id].push(r):e[s.request.group.id]=[r]}for(const s in e){const r=this.registry.groups.map.get(s);r==null||r.instances.instantiateSources(e[s])}return this._requests=[],this.registry.groups.value}},ms=class{constructor(t,e,s){this.id=t,this.manager=e,this.hash=Math.random(),this.loader=new ys(this),this.groups=new us(this,[]),this.fetcher=new bs(this),this.opacity=new ns(this,1),this.minmax=new fs(this,void 0),this.loading=new ps(this,!1),this.range=new as(this,void 0),this.histogram=new gs(this,[]),this.palette=this.manager.palette,s&&s.histogramResolution!==void 0&&s.histogramResolution>0&&this.histogram.setResolution(s.histogramResolution)}forEveryGroup(t){this.groups.value.forEach(t)}forEveryInstance(t){this.forEveryGroup(e=>e.instances.forEveryInstance(t))}async loadFiles(t){this.reset(),Object.entries(t).forEach(([e,s])=>{const r=this.groups.addOrGetGroup(e);s.forEach(i=>{this.loader.requestFile(r,i.thermalUrl,i.visibleUrl)})}),this.loading.markAsLoading(),await this.loader.resolveQuery(),this.postLoadedProcessing()}async loadOneFile(t,e){this.reset();const s=this.groups.addOrGetGroup(e);this.loader.requestFile(s,t.thermalUrl,t.visibleUrl),this.loading.markAsLoading(),await this.loader.resolveQuery(),this.postLoadedProcessing()}async processDroppedFiles(t,e){this.reset(),this.loading.markAsLoading(),this.removeAllChildren();const s=await Promise.all(t.map(i=>ke.fromFile(i))).then(i=>i.filter(n=>n!==null));s.forEach(i=>this.manager.registerSource(i)),this.groups.addOrGetGroup(e).instances.instantiateSources(s),this.postLoadedProcessing()}enqueueFile(t,e,s){const r=this.groups.addOrGetGroup(t);this.loader.requestFile(r,e,s)}async loadQuery(){this.reset(),this.loading.markAsLoading(),await this.loader.resolveQuery(),this.postLoadedProcessing()}postLoadedProcessing(){this.forEveryGroup(t=>t.minmax.recalculateFromInstances()),this.minmax.recalculateFromGroups(),this.minmax.value&&this.range.imposeRange({from:this.minmax.value.min,to:this.minmax.value.max}),this.histogram.refreshBufferFromCurrentPixels(),this.histogram.recalculateWithCurrentSetting(),this.loading.markAsLoaded()}reset(){this.forEveryGroup(t=>t.reset()),this.loader.loading===!1&&(this.opacity.reset(),this.minmax.reset())}removeAllChildren(){this.groups.removeAllGroups()}destroySelfAndBelow(){this.reset()}destroySelfInTheManager(){this.manager.removeRegistry(this.id)}},vs=()=>{const t=[];for(let e=0;e<=255;e++)t.push(`rgb(${e},${e},${e})`);return t},_s=["rgb( 0, 0, 127 )","rgb( 0, 0, 131)","rgb( 0, 0, 135)","rgb( 0, 0, 139)","rgb( 0, 0, 143)","rgb( 0, 0, 147)","rgb( 0, 0, 151)","rgb( 0, 0, 155)","rgb( 0, 0, 159)","rgb( 0, 0, 163)","rgb( 0, 0, 167)","rgb( 0, 0, 171)","rgb( 0, 0, 175)","rgb( 0, 0, 179)","rgb( 0, 0, 183)","rgb( 0, 0, 187)","rgb( 0, 0, 191)","rgb( 0, 0, 195)","rgb( 0, 0, 199)","rgb( 0, 0, 203)","rgb( 0, 0, 207)","rgb( 0, 0, 211)","rgb( 0, 0, 215)","rgb( 0, 0, 219)","rgb( 0, 0, 223)","rgb( 0, 0, 227)","rgb( 0, 0, 231)","rgb( 0, 0, 235)","rgb( 0, 0, 239)","rgb( 0, 0, 243)","rgb( 0, 0, 247)","rgb( 0, 0, 251)","rgb( 0, 0, 255)","rgb( 0, 4, 255)","rgb( 0, 8, 255)","rgb( 0, 12, 255)","rgb( 0, 16, 255)","rgb( 0, 20, 255)","rgb( 0, 24, 255)","rgb( 0, 28, 255)","rgb( 0, 32, 255)","rgb( 0, 36, 255)","rgb( 0, 40, 255)","rgb( 0, 44, 255)","rgb( 0, 48, 255)","rgb( 0, 52, 255)","rgb( 0, 56, 255)","rgb( 0, 60, 255)","rgb( 0, 64, 255)","rgb( 0, 68, 255)","rgb( 0, 72, 255)","rgb( 0, 76, 255)","rgb( 0, 80, 255)","rgb( 0, 84, 255)","rgb( 0, 88, 255)","rgb( 0, 92, 255)","rgb( 0, 96, 255)","rgb( 0, 100, 255)","rgb( 0, 104, 255)","rgb( 0, 108, 255)","rgb( 0, 112, 255)","rgb( 0, 116, 255)","rgb( 0, 120, 255)","rgb( 0, 124, 255)","rgb( 0, 128, 255)","rgb( 0, 132, 255)","rgb( 0, 136, 255)","rgb( 0, 140, 255)","rgb( 0, 144, 255)","rgb( 0, 148, 255)","rgb( 0, 152, 255)","rgb( 0, 156, 255)","rgb( 0, 160, 255)","rgb( 0, 164, 255)","rgb( 0, 168, 255)","rgb( 0, 172, 255)","rgb( 0, 176, 255)","rgb( 0, 180, 255)","rgb( 0, 184, 255)","rgb( 0, 188, 255)","rgb( 0, 192, 255)","rgb( 0, 196, 255)","rgb( 0, 200, 255)","rgb( 0, 204, 255)","rgb( 0, 208, 255)","rgb( 0, 212, 255)","rgb( 0, 216, 255)","rgb( 0, 220, 255)","rgb( 0, 224, 255)","rgb( 0, 228, 255)","rgb( 0, 232, 255)","rgb( 0, 236, 255)","rgb( 0, 240, 255)","rgb( 0, 244, 255)","rgb( 0, 248, 255)","rgb( 0, 252, 255)","rgb( 1, 255, 253)","rgb( 5, 255, 249)","rgb( 9, 255, 245)","rgb( 13, 255, 241)","rgb( 17, 255, 237)","rgb( 21, 255, 233)","rgb( 25, 255, 229)","rgb( 29, 255, 225)","rgb( 33, 255, 221)","rgb( 37, 255, 217)","rgb( 41, 255, 213)","rgb( 45, 255, 209)","rgb( 49, 255, 205)","rgb( 53, 255, 201)","rgb( 57, 255, 197)","rgb( 61, 255, 193)","rgb( 65, 255, 189)","rgb( 69, 255, 185)","rgb( 73, 255, 181)","rgb( 77, 255, 177)","rgb( 81, 255, 173)","rgb( 85, 255, 169)","rgb( 89, 255, 165)","rgb( 93, 255, 161)","rgb( 97, 255, 157)","rgb( 101, 255, 153)","rgb( 105, 255, 149)","rgb( 109, 255, 145)","rgb( 113, 255, 141)","rgb( 117, 255, 137)","rgb( 121, 255, 133)","rgb( 125, 255, 129)","rgb( 129, 255, 125)","rgb( 133, 255, 121)","rgb( 137, 255, 117)","rgb( 141, 255, 113)","rgb( 145, 255, 109)","rgb( 149, 255, 105)","rgb( 153, 255, 101)","rgb( 157, 255, 97)","rgb( 161, 255, 93)","rgb( 165, 255, 89)","rgb( 169, 255, 85)","rgb( 173, 255, 81)","rgb( 177, 255, 77)","rgb( 181, 255, 73)","rgb( 185, 255, 69)","rgb( 189, 255, 65)","rgb( 193, 255, 61)","rgb( 197, 255, 57)","rgb( 201, 255, 53)","rgb( 205, 255, 49)","rgb( 209, 255, 45)","rgb( 213, 255, 41)","rgb( 217, 255, 37)","rgb( 221, 255, 33)","rgb( 225, 255, 29)","rgb( 229, 255, 25)","rgb( 233, 255, 21)","rgb( 237, 255, 17)","rgb( 241, 255, 13)","rgb( 245, 255, 9)","rgb( 249, 255, 5)","rgb( 253, 255, 1)","rgb( 255, 252, 1)","rgb( 255, 248, 1)","rgb( 255, 244, 1)","rgb( 255, 240, 1)","rgb( 255, 236, 1)","rgb( 255, 232, 1)","rgb( 255, 228, 1)","rgb( 255, 224, 1)","rgb( 255, 220, 1)","rgb( 255, 216, 1)","rgb( 255, 212, 1)","rgb( 255, 208, 1)","rgb( 255, 204, 1)","rgb( 255, 200, 1)","rgb( 255, 196, 1)","rgb( 255, 192, 1)","rgb( 255, 188, 1)","rgb( 255, 184, 1)","rgb( 255, 180, 1)","rgb( 255, 176, 1)","rgb( 255, 172, 1)","rgb( 255, 168, 1)","rgb( 255, 164, 1)","rgb( 255, 160, 1)","rgb( 255, 156, 1)","rgb( 255, 152, 1)","rgb( 255, 148, 1)","rgb( 255, 144, 1)","rgb( 255, 140, 1)","rgb( 255, 136, 1)","rgb( 255, 132, 1)","rgb( 255, 128, 1)","rgb( 255, 124, 1)","rgb( 255, 120, 1)","rgb( 255, 116, 1)","rgb( 255, 112, 1)","rgb( 255, 108, 1)","rgb( 255, 104, 1)","rgb( 255, 100, 1)","rgb( 255, 96, 1)","rgb( 255, 92, 1)","rgb( 255, 88, 1)","rgb( 255, 84, 1)","rgb( 255, 80, 1)","rgb( 255, 76, 1)","rgb( 255, 72, 1)","rgb( 255, 68, 1)","rgb( 255, 64, 1)","rgb( 255, 60, 1)","rgb( 255, 56, 1)","rgb( 255, 52, 1)","rgb( 255, 48, 1)","rgb( 255, 44, 1)","rgb( 255, 40, 1)","rgb( 255, 36, 1)","rgb( 255, 32, 1)","rgb( 255, 28, 1)","rgb( 255, 24, 1)","rgb( 255, 20, 1)","rgb( 255, 16, 1)","rgb( 255, 12, 1)","rgb( 255, 8, 1)","rgb( 255, 4, 1)","rgb( 255, 0, 1)","rgb( 251, 0, 1)","rgb( 247, 0, 1)","rgb( 243, 0, 1)","rgb( 239, 0, 1)","rgb( 235, 0, 1)","rgb( 231, 0, 1)","rgb( 227, 0, 1)","rgb( 223, 0, 1)","rgb( 219, 0, 1)","rgb( 215, 0, 1)","rgb( 211, 0, 1)","rgb( 207, 0, 1)","rgb( 203, 0, 1)","rgb( 199, 0, 1)","rgb( 195, 0, 1)","rgb( 191, 0, 1)","rgb( 187, 0, 1)","rgb( 183, 0, 1)","rgb( 179, 0, 1)","rgb( 175, 0, 1)","rgb( 171, 0, 1)","rgb( 167, 0, 1)","rgb( 163, 0, 1)","rgb( 159, 0, 1)","rgb( 155, 0, 1)","rgb( 151, 0, 1)","rgb( 147, 0, 1)","rgb( 143, 0, 1)","rgb( 139, 0, 1)","rgb( 135, 0, 1)","rgb( 131, 0, 1)","rgb( 127, 0, 1)"],ws=["rgb( 0, 0, 0 )","rgb(0, 0, 13 )","rgb(0, 0, 29 )","rgb(0, 0, 39 )","rgb(0, 0, 46 )","rgb(0, 0, 53 )","rgb(0, 0, 60 )","rgb(0, 0, 67 )","rgb(0, 0, 74 )","rgb(0, 0, 81 )","rgb(1, 0, 85 )","rgb(2, 0, 89 )","rgb(3, 0, 94 )","rgb(4, 0, 98 )","rgb(5, 0, 101 )","rgb(6, 0, 105 )","rgb(8, 0, 109 )","rgb(10, 0, 113 )","rgb(12, 0, 116 )","rgb(13, 0, 118 )","rgb(15, 0, 120 )","rgb(18, 0, 121 )","rgb(21, 0, 123 )","rgb(24, 0, 126 )","rgb(27, 0, 128 )","rgb(30, 0, 130 )","rgb(33, 0, 133 )","rgb(37, 0, 135 )","rgb(40, 0, 137 )","rgb(44, 0, 138 )","rgb(47, 0, 140 )","rgb(50, 0, 141 )","rgb(53, 0, 142 )","rgb(57, 0, 144 )","rgb(59, 0, 145 )","rgb(62, 0, 147 )","rgb(64, 0, 148 )","rgb(67, 0, 149 )","rgb(70, 0, 150 )","rgb(72, 0, 150 )","rgb(75, 0, 151 )","rgb(78, 0, 151 )","rgb(81, 0, 151 )","rgb(84, 0, 152 )","rgb(87, 0, 152 )","rgb(90, 0, 153 )","rgb(93, 0, 154 )","rgb(96, 0, 155 )","rgb(99, 0, 155 )","rgb(102, 0, 155 )","rgb(105, 0, 155 )","rgb(108, 0, 156 )","rgb(111, 0, 156 )","rgb(113, 0, 157 )","rgb(116, 0, 157 )","rgb(119, 0, 157 )","rgb(122, 0, 157 )","rgb(125, 0, 157 )","rgb(128, 0, 157 )","rgb(131, 0, 157 )","rgb(133, 0, 157 )","rgb(136, 0, 157 )","rgb(138, 0, 157 )","rgb(141, 0, 157 )","rgb(144, 0, 156 )","rgb(148, 0, 156 )","rgb(150, 0, 155 )","rgb(153, 0, 155 )","rgb(155, 0, 155 )","rgb(158, 0, 155 )","rgb(160, 0, 155 )","rgb(162, 0, 155 )","rgb(165, 0, 154 )","rgb(167, 0, 154 )","rgb(169, 0, 154 )","rgb(171, 0, 153 )","rgb(173, 0, 153 )","rgb(175, 1, 152 )","rgb(176, 1, 152 )","rgb(177, 1, 151 )","rgb(179, 1, 150 )","rgb(181, 2, 149 )","rgb(183, 2, 149 )","rgb(184, 3, 149 )","rgb(185, 4, 149 )","rgb(187, 5, 148 )","rgb(188, 5, 147 )","rgb(190, 6, 146 )","rgb(191, 6, 146 )","rgb(192, 7, 145 )","rgb(193, 8, 144 )","rgb(194, 9, 143 )","rgb(195, 11, 142 )","rgb(196, 12, 141 )","rgb(198, 13, 139 )","rgb(199, 14, 138 )","rgb(200, 16, 136 )","rgb(202, 18, 134 )","rgb(202, 19, 133 )","rgb(204, 21, 131 )","rgb(205, 22, 129 )","rgb(206, 23, 126 )","rgb(207, 25, 123 )","rgb(208, 26, 121 )","rgb(209, 28, 118 )","rgb(210, 29, 116 )","rgb(211, 31, 114 )","rgb(212, 33, 111 )","rgb(213, 35, 108 )","rgb(214, 37, 104 )","rgb(215, 38, 101 )","rgb(216, 40, 98 )","rgb(218, 43, 95 )","rgb(219, 45, 91 )","rgb(219, 47, 87 )","rgb(220, 48, 82 )","rgb(221, 50, 76 )","rgb(222, 52, 71 )","rgb(223, 53, 65 )","rgb(224, 55, 59 )","rgb(224, 56, 54 )","rgb(225, 58, 48 )","rgb(226, 60, 42 )","rgb(227, 62, 37 )","rgb(228, 64, 31 )","rgb(228, 66, 28 )","rgb(229, 67, 26 )","rgb(230, 69, 23 )","rgb(230, 71, 22 )","rgb(231, 73, 19 )","rgb(232, 74, 18 )","rgb(232, 76, 16 )","rgb(233, 77, 14 )","rgb(234, 78, 12 )","rgb(234, 80, 11 )","rgb(235, 82, 10 )","rgb(235, 84, 9 )","rgb(236, 86, 8 )","rgb(236, 87, 8 )","rgb(237, 89, 7 )","rgb(237, 91, 6 )","rgb(238, 92, 5 )","rgb(238, 94, 5 )","rgb(239, 95, 4 )","rgb(239, 97, 4 )","rgb(240, 99, 3 )","rgb(240, 100, 3 )","rgb(241, 102, 3 )","rgb(241, 103, 3 )","rgb(241, 105, 2 )","rgb(241, 106, 2 )","rgb(241, 107, 2 )","rgb(242, 109, 1 )","rgb(242, 111, 1 )","rgb(243, 112, 1 )","rgb(243, 114, 1 )","rgb(244, 115, 0 )","rgb(244, 117, 0 )","rgb(244, 119, 0 )","rgb(244, 121, 0 )","rgb(245, 123, 0 )","rgb(245, 126, 0 )","rgb(246, 128, 0 )","rgb(246, 129, 0 )","rgb(247, 131, 0 )","rgb(247, 133, 0 )","rgb(247, 135, 0 )","rgb(248, 136, 0 )","rgb(248, 137, 0 )","rgb(248, 139, 0 )","rgb(248, 140, 0 )","rgb(249, 142, 0 )","rgb(249, 143, 0 )","rgb(249, 144, 0 )","rgb(249, 146, 0 )","rgb(250, 148, 0 )","rgb(250, 150, 0 )","rgb(251, 152, 0 )","rgb(251, 155, 0 )","rgb(252, 157, 0 )","rgb(252, 159, 0 )","rgb(253, 161, 0 )","rgb(253, 163, 0 )","rgb(253, 165, 0 )","rgb(253, 168, 0 )","rgb(253, 170, 0 )","rgb(253, 172, 0 )","rgb(253, 173, 0 )","rgb(254, 175, 0 )","rgb(254, 177, 0 )","rgb(254, 178, 0 )","rgb(254, 180, 0 )","rgb(254, 182, 0 )","rgb(254, 184, 0 )","rgb(254, 186, 0 )","rgb(254, 187, 0 )","rgb(254, 189, 0 )","rgb(254, 191, 0 )","rgb(254, 193, 0 )","rgb(254, 195, 0 )","rgb(254, 197, 0 )","rgb(254, 199, 0 )","rgb(254, 200, 0 )","rgb(254, 202, 1 )","rgb(254, 203, 1 )","rgb(254, 204, 2 )","rgb(254, 206, 3 )","rgb(254, 207, 4 )","rgb(254, 209, 6 )","rgb(254, 211, 8 )","rgb(254, 213, 9 )","rgb(254, 214, 11 )","rgb(254, 216, 12 )","rgb(255, 218, 14 )","rgb(255, 219, 15 )","rgb(255, 220, 19 )","rgb(255, 221, 23 )","rgb(255, 222, 27 )","rgb(255, 224, 31 )","rgb(255, 225, 35 )","rgb(255, 226, 38 )","rgb(255, 228, 42 )","rgb(255, 229, 48 )","rgb(255, 230, 53 )","rgb(255, 231, 59 )","rgb(255, 233, 65 )","rgb(255, 234, 71 )","rgb(255, 235, 76 )","rgb(255, 237, 83 )","rgb(255, 238, 89 )","rgb(255, 239, 95 )","rgb(255, 239, 102 )","rgb(255, 240, 109 )","rgb(255, 241, 115 )","rgb(255, 241, 123 )","rgb(255, 242, 132 )","rgb(255, 243, 139 )","rgb(255, 244, 146 )","rgb(255, 244, 153 )","rgb(255, 245, 160 )","rgb(255, 245, 167 )","rgb(255, 246, 174 )","rgb(255, 247, 181 )","rgb(255, 248, 187 )","rgb(255, 248, 193 )","rgb(255, 249, 198 )","rgb(255, 249, 203 )","rgb(255, 250, 209 )","rgb(255, 251, 215 )","rgb(255, 252, 221 )","rgb(255, 253, 227 )","rgb(255, 253, 232 )","rgb(255, 254, 237 )","rgb(255, 254, 242 )","rgb(255, 255, 247 )","rgb(255, 255, 249 )"],xs=vs(),Es={iron:{pixels:ws,name:"paleta IRON",gradient:"linear-gradient(90deg, rgba(0,0,0,1) 0%, rgba(10,12,77,1) 30%, rgba(86,20,101,1) 49%, rgba(255,0,0,1) 64%, rgba(249,255,0,1) 84%, rgba(255,255,255,1) 100%)"},jet:{pixels:_s,name:"paleta JET",gradient:"linear-gradient(90deg, rgba(31,0,157,1) 0%, rgba(0,5,255,1) 8%, rgba(0,255,239,1) 36%, rgba(255,252,0,1) 66%, rgba(255,2,0,1) 94%, rgba(145,0,0,1) 100%)"},grayscale:{pixels:xs,name:"StupnÄ Å¡edÃ©",gradient:"linear-gradient(90deg, rgba(0,0,0,1) 0%, rgba(255,255,255,1) 100%)"}},Cs=class extends A{get availablePalettes(){return Es}get currentPalette(){return this.availablePalettes[this.value]}get currentPixels(){return this.currentPalette.pixels}validate(t){return t}afterSetEffect(t){this.parent.forEveryRegistry(e=>{e.forEveryGroup(s=>s.instances.forEveryInstance(r=>r.recievePalette(t)))})}setPalette(t){this.value=t}},yt=class extends EventTarget{constructor(t){super(),this.registries={},this.palette=new Cs(this,"jet"),this._sourcesByUrl={},this.isUrlRegistered=e=>Object.keys(this.sourcesByUrl).includes(e),this.id=Math.random(),t&&t.palette&&this.palette.setPalette(t.palette)}forEveryRegistry(t){Object.values(this.registries).forEach(e=>t(e))}addOrGetRegistry(t,e){return this.registries[t]===void 0&&(this.registries[t]=new ms(t,this,e)),this.registries[t]}removeRegistry(t){this.registries[t]!==void 0&&(this.registries[t].destroySelfAndBelow(),delete this.registries[t])}get sourcesByUrl(){return this._sourcesByUrl}getSourcesArray(){return Object.values(this.sourcesByUrl)}getRegisteredUrls(){return Object.keys(this.sourcesByUrl)}registerSource(t){return this.getRegisteredUrls().includes(t.url)?this.sourcesByUrl[t.url]:(this.sourcesByUrl[t.url]=t,t)}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let mt=class extends Event{constructor(e,s,r){super("context-request",{bubbles:!0,composed:!0}),this.context=e,this.callback=s,this.subscribe=r??!1}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let Me=class{constructor(e,s,r,i){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(n,o)=>{this.unsubscribe&&(this.unsubscribe!==o&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=n,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(n,o)),this.unsubscribe=o},this.host=e,s.context!==void 0){const n=s;this.context=n.context,this.callback=n.callback,this.subscribe=n.subscribe??!1}else this.context=s,this.callback=r,this.subscribe=i??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new mt(this.context,this.t,this.subscribe))}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let Ss=class{get value(){return this.o}set value(e){this.setValue(e)}setValue(e,s=!1){const r=s||!Object.is(e,this.o);this.o=e,r&&this.updateObservers()}constructor(e){this.subscriptions=new Map,this.updateObservers=()=>{for(const[s,{disposer:r}]of this.subscriptions)s(this.o,r)},e!==void 0&&(this.value=e)}addCallback(e,s,r){if(!r)return void e(this.value);this.subscriptions.has(e)||this.subscriptions.set(e,{disposer:()=>{this.subscriptions.delete(e)},consumerHost:s});const{disposer:i}=this.subscriptions.get(e);e(this.value,i)}clearCallbacks(){this.subscriptions.clear()}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let As=class extends Event{constructor(e){super("context-provider",{bubbles:!0,composed:!0}),this.context=e}},J=class extends Ss{constructor(e,s,r){var i,n;super(s.context!==void 0?s.initialValue:r),this.onContextRequest=o=>{const l=o.composedPath()[0];o.context===this.context&&l!==this.host&&(o.stopPropagation(),this.addCallback(o.callback,l,o.subscribe))},this.onProviderRequest=o=>{const l=o.composedPath()[0];if(o.context!==this.context||l===this.host)return;const h=new Set;for(const[d,{consumerHost:u}]of this.subscriptions)h.has(d)||(h.add(d),u.dispatchEvent(new mt(this.context,d,!0)));o.stopPropagation()},this.host=e,s.context!==void 0?this.context=s.context:this.context=s,this.attachListeners(),(n=(i=this.host).addController)==null||n.call(i,this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest),this.host.addEventListener("context-provider",this.onProviderRequest)}hostConnected(){this.host.dispatchEvent(new As(this.context))}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Ts({context:t}){return(e,s)=>{const r=new WeakMap;if(typeof s=="object")return s.addInitializer(function(){r.set(this,new J(this,{context:t}))}),{get(){return e.get.call(this)},set(i){var n;return(n=r.get(this))==null||n.setValue(i),e.set.call(this,i)},init(i){var n;return(n=r.get(this))==null||n.setValue(i),i}};{e.constructor.addInitializer(o=>{r.set(o,new J(o,{context:t}))});const i=Object.getOwnPropertyDescriptor(e,s);let n;if(i===void 0){const o=new WeakMap;n={get(){return o.get(this)},set(l){r.get(this).setValue(l),o.set(this,l)},configurable:!0,enumerable:!0}}else{const o=i.set;n={...i,set(l){r.get(this).setValue(l),o==null||o.call(this,l)}}}return void Object.defineProperty(e,s,n)}}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const oe=globalThis,Pe=oe.ShadowRoot&&(oe.ShadyCSS===void 0||oe.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Re=Symbol(),Ve=new WeakMap;let vt=class{constructor(e,s,r){if(this._$cssResult$=!0,r!==Re)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=s}get styleSheet(){let e=this.o;const s=this.t;if(Pe&&e===void 0){const r=s!==void 0&&s.length===1;r&&(e=Ve.get(s)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&Ve.set(s,e))}return e}toString(){return this.cssText}};const ks=t=>new vt(typeof t=="string"?t:t+"",void 0,Re),G=(t,...e)=>{const s=t.length===1?t[0]:e.reduce((r,i,n)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[n+1],t[0]);return new vt(s,t,Re)},$s=(t,e)=>{if(Pe)t.adoptedStyleSheets=e.map(s=>s instanceof CSSStyleSheet?s:s.styleSheet);else for(const s of e){const r=document.createElement("style"),i=oe.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=s.cssText,t.appendChild(r)}},je=Pe?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let s="";for(const r of e.cssRules)s+=r.cssText;return ks(s)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Os,defineProperty:Ls,getOwnPropertyDescriptor:Ns,getOwnPropertyNames:Ms,getOwnPropertySymbols:Ps,getPrototypeOf:Rs}=Object,L=globalThis,We=L.trustedTypes,Is=We?We.emptyScript:"",be=L.reactiveElementPolyfillSupport,X=(t,e)=>t,ne={toAttribute(t,e){switch(e){case Boolean:t=t?Is:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let s=t;switch(e){case Boolean:s=t!==null;break;case Number:s=t===null?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch{s=null}}return s}},Ie=(t,e)=>!Os(t,e),ze={attribute:!0,type:String,converter:ne,reflect:!1,hasChanged:Ie};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),L.litPropertyMetadata??(L.litPropertyMetadata=new WeakMap);class q extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,s=ze){if(s.state&&(s.attribute=!1),this._$Ei(),this.elementProperties.set(e,s),!s.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(e,r,s);i!==void 0&&Ls(this.prototype,e,i)}}static getPropertyDescriptor(e,s,r){const{get:i,set:n}=Ns(this.prototype,e)??{get(){return this[s]},set(o){this[s]=o}};return{get(){return i==null?void 0:i.call(this)},set(o){const l=i==null?void 0:i.call(this);n.call(this,o),this.requestUpdate(e,l,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??ze}static _$Ei(){if(this.hasOwnProperty(X("elementProperties")))return;const e=Rs(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(X("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(X("properties"))){const s=this.properties,r=[...Ms(s),...Ps(s)];for(const i of r)this.createProperty(i,s[i])}const e=this[Symbol.metadata];if(e!==null){const s=litPropertyMetadata.get(e);if(s!==void 0)for(const[r,i]of s)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[s,r]of this.elementProperties){const i=this._$Eu(s,r);i!==void 0&&this._$Eh.set(i,s)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const s=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)s.unshift(je(i))}else e!==void 0&&s.push(je(e));return s}static _$Eu(e,s){const r=s.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(s=>this.enableUpdating=s),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(s=>s(this))}addController(e){var s;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((s=e.hostConnected)==null||s.call(e))}removeController(e){var s;(s=this._$EO)==null||s.delete(e)}_$E_(){const e=new Map,s=this.constructor.elementProperties;for(const r of s.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return $s(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(s=>{var r;return(r=s.hostConnected)==null?void 0:r.call(s)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(s=>{var r;return(r=s.hostDisconnected)==null?void 0:r.call(s)})}attributeChangedCallback(e,s,r){this._$AK(e,r)}_$EC(e,s){var n;const r=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,r);if(i!==void 0&&r.reflect===!0){const o=(((n=r.converter)==null?void 0:n.toAttribute)!==void 0?r.converter:ne).toAttribute(s,r.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,s){var n;const r=this.constructor,i=r._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const o=r.getPropertyOptions(i),l=typeof o.converter=="function"?{fromAttribute:o.converter}:((n=o.converter)==null?void 0:n.fromAttribute)!==void 0?o.converter:ne;this._$Em=i,this[i]=l.fromAttribute(s,o.type),this._$Em=null}}requestUpdate(e,s,r){if(e!==void 0){if(r??(r=this.constructor.getPropertyOptions(e)),!(r.hasChanged??Ie)(this[e],s))return;this.P(e,s,r)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,s,r){this._$AL.has(e)||this._$AL.set(e,s),r.reflect===!0&&this._$Em!==e&&(this._$Ej??(this._$Ej=new Set)).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(s){Promise.reject(s)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[n,o]of this._$Ep)this[n]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[n,o]of i)o.wrapped!==!0||this._$AL.has(n)||this[n]===void 0||this.P(n,this[n],o)}let e=!1;const s=this._$AL;try{e=this.shouldUpdate(s),e?(this.willUpdate(s),(r=this._$EO)==null||r.forEach(i=>{var n;return(n=i.hostUpdate)==null?void 0:n.call(i)}),this.update(s)):this._$EU()}catch(i){throw e=!1,this._$EU(),i}e&&this._$AE(s)}willUpdate(e){}_$AE(e){var s;(s=this._$EO)==null||s.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(s=>this._$EC(s,this[s]))),this._$EU()}updated(e){}firstUpdated(e){}}q.elementStyles=[],q.shadowRootOptions={mode:"open"},q[X("elementProperties")]=new Map,q[X("finalized")]=new Map,be==null||be({ReactiveElement:q}),(L.reactiveElementVersions??(L.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Y=globalThis,ae=Y.trustedTypes,Ge=ae?ae.createPolicy("lit-html",{createHTML:t=>t}):void 0,_t="$lit$",O=`lit$${Math.random().toFixed(9).slice(2)}$`,wt="?"+O,Ds=`<${wt}>`,B=document,Q=()=>B.createComment(""),Z=t=>t===null||typeof t!="object"&&typeof t!="function",xt=Array.isArray,Bs=t=>xt(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",ye=`[ 	
\f\r]`,K=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ke=/-->/g,Xe=/>/g,R=RegExp(`>|${ye}(?:([^\\s"'>=/]+)(${ye}*=${ye}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Ye=/'/g,Je=/"/g,Et=/^(?:script|style|textarea|title)$/i,Fs=t=>(e,...s)=>({_$litType$:t,strings:e,values:s}),N=Fs(1),j=Symbol.for("lit-noChange"),w=Symbol.for("lit-nothing"),Qe=new WeakMap,I=B.createTreeWalker(B,129);function Ct(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ge!==void 0?Ge.createHTML(e):e}const Us=(t,e)=>{const s=t.length-1,r=[];let i,n=e===2?"<svg>":"",o=K;for(let l=0;l<s;l++){const h=t[l];let d,u,g=-1,p=0;for(;p<h.length&&(o.lastIndex=p,u=o.exec(h),u!==null);)p=o.lastIndex,o===K?u[1]==="!--"?o=Ke:u[1]!==void 0?o=Xe:u[2]!==void 0?(Et.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=R):u[3]!==void 0&&(o=R):o===R?u[0]===">"?(o=i??K,g=-1):u[1]===void 0?g=-2:(g=o.lastIndex-u[2].length,d=u[1],o=u[3]===void 0?R:u[3]==='"'?Je:Ye):o===Je||o===Ye?o=R:o===Ke||o===Xe?o=K:(o=R,i=void 0);const y=o===R&&t[l+1].startsWith("/>")?" ":"";n+=o===K?h+Ds:g>=0?(r.push(d),h.slice(0,g)+_t+h.slice(g)+O+y):h+O+(g===-2?l:y)}return[Ct(t,n+(t[s]||"<?>")+(e===2?"</svg>":"")),r]};class ee{constructor({strings:e,_$litType$:s},r){let i;this.parts=[];let n=0,o=0;const l=e.length-1,h=this.parts,[d,u]=Us(e,s);if(this.el=ee.createElement(d,r),I.currentNode=this.el.content,s===2){const g=this.el.content.firstChild;g.replaceWith(...g.childNodes)}for(;(i=I.nextNode())!==null&&h.length<l;){if(i.nodeType===1){if(i.hasAttributes())for(const g of i.getAttributeNames())if(g.endsWith(_t)){const p=u[o++],y=i.getAttribute(g).split(O),x=/([.?@])?(.*)/.exec(p);h.push({type:1,index:n,name:x[2],strings:y,ctor:x[1]==="."?qs:x[1]==="?"?Vs:x[1]==="@"?js:ue}),i.removeAttribute(g)}else g.startsWith(O)&&(h.push({type:6,index:n}),i.removeAttribute(g));if(Et.test(i.tagName)){const g=i.textContent.split(O),p=g.length-1;if(p>0){i.textContent=ae?ae.emptyScript:"";for(let y=0;y<p;y++)i.append(g[y],Q()),I.nextNode(),h.push({type:2,index:++n});i.append(g[p],Q())}}}else if(i.nodeType===8)if(i.data===wt)h.push({type:2,index:n});else{let g=-1;for(;(g=i.data.indexOf(O,g+1))!==-1;)h.push({type:7,index:n}),g+=O.length-1}n++}}static createElement(e,s){const r=B.createElement("template");return r.innerHTML=e,r}}function W(t,e,s=t,r){var o,l;if(e===j)return e;let i=r!==void 0?(o=s._$Co)==null?void 0:o[r]:s._$Cl;const n=Z(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==n&&((l=i==null?void 0:i._$AO)==null||l.call(i,!1),n===void 0?i=void 0:(i=new n(t),i._$AT(t,s,r)),r!==void 0?(s._$Co??(s._$Co=[]))[r]=i:s._$Cl=i),i!==void 0&&(e=W(t,i._$AS(t,e.values),i,r)),e}class Hs{constructor(e,s){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=s}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:s},parts:r}=this._$AD,i=((e==null?void 0:e.creationScope)??B).importNode(s,!0);I.currentNode=i;let n=I.nextNode(),o=0,l=0,h=r[0];for(;h!==void 0;){if(o===h.index){let d;h.type===2?d=new te(n,n.nextSibling,this,e):h.type===1?d=new h.ctor(n,h.name,h.strings,this,e):h.type===6&&(d=new Ws(n,this,e)),this._$AV.push(d),h=r[++l]}o!==(h==null?void 0:h.index)&&(n=I.nextNode(),o++)}return I.currentNode=B,i}p(e){let s=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,s),s+=r.strings.length-2):r._$AI(e[s])),s++}}class te{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,s,r,i){this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=e,this._$AB=s,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const s=this._$AM;return s!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=s.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,s=this){e=W(this,e,s),Z(e)?e===w||e==null||e===""?(this._$AH!==w&&this._$AR(),this._$AH=w):e!==this._$AH&&e!==j&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Bs(e)?this.k(e):this._(e)}S(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.S(e))}_(e){this._$AH!==w&&Z(this._$AH)?this._$AA.nextSibling.data=e:this.T(B.createTextNode(e)),this._$AH=e}$(e){var n;const{values:s,_$litType$:r}=e,i=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=ee.createElement(Ct(r.h,r.h[0]),this.options)),r);if(((n=this._$AH)==null?void 0:n._$AD)===i)this._$AH.p(s);else{const o=new Hs(i,this),l=o.u(this.options);o.p(s),this.T(l),this._$AH=o}}_$AC(e){let s=Qe.get(e.strings);return s===void 0&&Qe.set(e.strings,s=new ee(e)),s}k(e){xt(this._$AH)||(this._$AH=[],this._$AR());const s=this._$AH;let r,i=0;for(const n of e)i===s.length?s.push(r=new te(this.S(Q()),this.S(Q()),this,this.options)):r=s[i],r._$AI(n),i++;i<s.length&&(this._$AR(r&&r._$AB.nextSibling,i),s.length=i)}_$AR(e=this._$AA.nextSibling,s){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,s);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var s;this._$AM===void 0&&(this._$Cv=e,(s=this._$AP)==null||s.call(this,e))}}class ue{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,s,r,i,n){this.type=1,this._$AH=w,this._$AN=void 0,this.element=e,this.name=s,this._$AM=i,this.options=n,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=w}_$AI(e,s=this,r,i){const n=this.strings;let o=!1;if(n===void 0)e=W(this,e,s,0),o=!Z(e)||e!==this._$AH&&e!==j,o&&(this._$AH=e);else{const l=e;let h,d;for(e=n[0],h=0;h<n.length-1;h++)d=W(this,l[r+h],s,h),d===j&&(d=this._$AH[h]),o||(o=!Z(d)||d!==this._$AH[h]),d===w?e=w:e!==w&&(e+=(d??"")+n[h+1]),this._$AH[h]=d}o&&!i&&this.j(e)}j(e){e===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class qs extends ue{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===w?void 0:e}}class Vs extends ue{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==w)}}class js extends ue{constructor(e,s,r,i,n){super(e,s,r,i,n),this.type=5}_$AI(e,s=this){if((e=W(this,e,s,0)??w)===j)return;const r=this._$AH,i=e===w&&r!==w||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,n=e!==w&&(r===w||i);i&&this.element.removeEventListener(this.name,this,r),n&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var s;typeof this._$AH=="function"?this._$AH.call(((s=this.options)==null?void 0:s.host)??this.element,e):this._$AH.handleEvent(e)}}class Ws{constructor(e,s,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=s,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){W(this,e)}}const me=Y.litHtmlPolyfillSupport;me==null||me(ee,te),(Y.litHtmlVersions??(Y.litHtmlVersions=[])).push("3.1.4");const zs=(t,e,s)=>{const r=(s==null?void 0:s.renderBefore)??e;let i=r._$litPart$;if(i===void 0){const n=(s==null?void 0:s.renderBefore)??null;r._$litPart$=i=new te(e.insertBefore(Q(),n),n,void 0,s??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class M extends q{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var s;const e=super.createRenderRoot();return(s=this.renderOptions).renderBefore??(s.renderBefore=e.firstChild),e}update(e){const s=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=zs(s,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return j}}var rt;M._$litElement$=!0,M.finalized=!0,(rt=globalThis.litElementHydrateSupport)==null||rt.call(globalThis,{LitElement:M});const ve=globalThis.litElementPolyfillSupport;ve==null||ve({LitElement:M});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.6");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ge=t=>(e,s)=>{s!==void 0?s.addInitializer(()=>{customElements.define(t,e)}):customElements.define(t,e)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Gs={attribute:!0,type:String,converter:ne,reflect:!1,hasChanged:Ie},Ks=(t=Gs,e,s)=>{const{kind:r,metadata:i}=s;let n=globalThis.litPropertyMetadata.get(i);if(n===void 0&&globalThis.litPropertyMetadata.set(i,n=new Map),n.set(s.name,t),r==="accessor"){const{name:o}=s;return{set(l){const h=e.get.call(this);e.set.call(this,l),this.requestUpdate(o,h,t)},init(l){return l!==void 0&&this.P(o,void 0,t),l}}}if(r==="setter"){const{name:o}=s;return function(l){const h=this[o];e.call(this,l),this.requestUpdate(o,h,t)}}throw Error("Unsupported decorator location: "+r)};function H(t){return(e,s)=>typeof s=="object"?Ks(t,e,s):((r,i,n)=>{const o=i.hasOwnProperty(n);return i.constructor.createProperty(n,o?{...r,wrapped:!0}:r),o?Object.getOwnPropertyDescriptor(i,n):void 0})(t,e,s)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function St(t){return H({...t,state:!0,attribute:!1})}const At="manager",Tt="registry",kt="group",Xs="group";var Ys=Object.defineProperty,Js=Object.getOwnPropertyDescriptor,$t=(t,e,s,r)=>{for(var i=r>1?void 0:r?Js(e,s):e,n=t.length-1,o;n>=0;n--)(o=t[n])&&(i=(r?o(e,s,i):o(i))||i);return r&&i&&Ys(e,s,i),i};let le=class extends M{constructor(){super(...arguments),this.manager=new yt}render(){return N`
            <slot></slot>
        `}};le.styles=G`

    button {
        color: green;
    }

    div {
    color: blue;
    }
    
    `;$t([Ts({context:At})],le.prototype,"manager",2);le=$t([ge("thermal-manager")],le);class Ot extends M{constructor(){super(...arguments),this._injectedManager=new Me(this,{context:At,subscribe:!0})}connectedCallback(){super.connectedCallback(),this._injectedManager.value?this.manager=this._injectedManager.value:this.manager=new yt}}var Qs=Object.defineProperty,Zs=Object.getOwnPropertyDescriptor,Lt=(t,e,s,r)=>{for(var i=r>1?void 0:r?Zs(e,s):e,n=t.length-1,o;n>=0;n--)(o=t[n])&&(i=(r?o(e,s,i):o(i))||i);return r&&i&&Qs(e,s,i),i};let F=class extends Ot{constructor(){super(...arguments),this.uuid=F.DEFAULT_NAME,this.provider=new J(this,{context:Tt,initialValue:void 0})}connectedCallback(){super.connectedCallback();const t=this.manager.addOrGetRegistry(this.uuid);this.provider.setValue(t,!0)}updated(){console.log(this)}render(){return N`
            <slot></slot>
        `}};F.DEFAULT_NAME="default_registry";F.styles=G`

    button {
        color: pink;
    }

    div {
        color: navy;
    }

        blockquote {
            color: gray
        }

        h2 {
            color: yellow;
        }
    
    `;Lt([H({type:String,attribute:!0,reflect:!0})],F.prototype,"uuid",2);F=Lt([ge("thermal-registry")],F);class Nt extends Ot{constructor(){super(...arguments),this._injectedRegistry=new Me(this,{context:Tt,subscribe:!0})}connectedCallback(){super.connectedCallback(),this._injectedRegistry.value?this.registry=this._injectedRegistry.value:this.registry=this.manager.addOrGetRegistry(F.DEFAULT_NAME)}}var er=Object.defineProperty,tr=Object.getOwnPropertyDescriptor,pe=(t,e,s,r)=>{for(var i=r>1?void 0:r?tr(e,s):e,n=t.length-1,o;n>=0;n--)(o=t[n])&&(i=(r?o(e,s,i):o(i))||i);return r&&i&&er(e,s,i),i};let P=class extends Nt{constructor(){super(...arguments),this.uuid=P.DEFAULT_NAME,this.provider=new J(this,{context:kt,initialValue:void 0})}connectedCallback(){super.connectedCallback(),this.group=this.registry.groups.addOrGetGroup(this.uuid,this.name,this.description),this.provider.setValue(this.group,!0)}updated(t){console.log("updated group",this),t.has("name")&&console.log(t,this.name)}render(){return N`
            <slot></slot>
        `}};P.DEFAULT_NAME="default_group";pe([H({type:String,attribute:!0,reflect:!0})],P.prototype,"uuid",2);pe([H({type:String,attribute:!0,reflect:!0})],P.prototype,"name",2);pe([H({type:String,attribute:!0,reflect:!0})],P.prototype,"description",2);P=pe([ge("thermal-group")],P);class sr extends Nt{constructor(){super(...arguments),this._injectedGroup=new Me(this,{context:kt,subscribe:!0})}connectedCallback(){super.connectedCallback(),this._injectedGroup.value?this.group=this._injectedGroup.value:this.group=this.registry.groups.addOrGetGroup(P.DEFAULT_NAME)}}const Mt=new WeakMap;function rr(t,e){let s=e;for(;s;){if(Mt.get(s)===t)return!0;s=Object.getPrototypeOf(s)}return!1}function De(t){return e=>{if(rr(t,e))return e;const s=t(e);return Mt.set(s,t),s}}const ir=t=>class extends t{static get properties(){return{disabled:{type:Boolean,reflect:!0}}}constructor(){super(),this._requestedToBeDisabled=!1,this.__isUserSettingDisabled=!0,this.__restoreDisabledTo=!1,this.disabled=!1}makeRequestToBeDisabled(){this._requestedToBeDisabled===!1&&(this._requestedToBeDisabled=!0,this.__restoreDisabledTo=this.disabled,this.__internalSetDisabled(!0))}retractRequestToBeDisabled(){this._requestedToBeDisabled===!0&&(this._requestedToBeDisabled=!1,this.__internalSetDisabled(this.__restoreDisabledTo))}__internalSetDisabled(e){this.__isUserSettingDisabled=!1,this.disabled=e,this.__isUserSettingDisabled=!0}requestUpdate(e,s,r){super.requestUpdate(e,s,r),e==="disabled"&&(this.__isUserSettingDisabled&&(this.__restoreDisabledTo=this.disabled),this.disabled===!1&&this._requestedToBeDisabled===!0&&this.__internalSetDisabled(!0))}},or=De(ir),nr=t=>class extends or(t){static get properties(){return{tabIndex:{type:Number,reflect:!0,attribute:"tabindex"}}}constructor(){super(),this.__isUserSettingTabIndex=!0,this.__restoreTabIndexTo=0,this.__internalSetTabIndex(0)}makeRequestToBeDisabled(){super.makeRequestToBeDisabled(),this._requestedToBeDisabled===!1&&this.tabIndex!=null&&(this.__restoreTabIndexTo=this.tabIndex)}retractRequestToBeDisabled(){super.retractRequestToBeDisabled(),this._requestedToBeDisabled===!0&&this.__internalSetTabIndex(this.__restoreTabIndexTo)}__internalSetTabIndex(e){this.__isUserSettingTabIndex=!1,this.tabIndex=e,this.__isUserSettingTabIndex=!0}requestUpdate(e,s,r){super.requestUpdate(e,s,r),e==="disabled"&&(this.disabled?this.__internalSetTabIndex(-1):this.__internalSetTabIndex(this.__restoreTabIndexTo)),e==="tabIndex"&&(this.__isUserSettingTabIndex&&this.tabIndex!=null&&(this.__restoreTabIndexTo=this.tabIndex),this.tabIndex!==-1&&this._requestedToBeDisabled===!0&&this.__internalSetTabIndex(-1))}firstUpdated(e){super.firstUpdated(e),this.disabled&&this.__internalSetTabIndex(-1)}},ar=De(nr);function _e(t="google-chrome"){var l,h;const e=globalThis.chrome;if(t==="chromium")return e;const s=globalThis.navigator,r=s==null?void 0:s.vendor,i=typeof globalThis.opr<"u",n=((l=globalThis.userAgent)==null?void 0:l.indexOf("Edge"))>-1,o=(h=globalThis.userAgent)==null?void 0:h.match("CriOS");if(t==="ios")return o;if(t==="google-chrome")return e!==null&&typeof e<"u"&&r==="Google Inc."&&i===!1&&n===!1}var it,ot,nt,at,lt,ht,ct,dt,ut,gt,pt;const he={isIE11:/Trident/.test((it=globalThis.navigator)==null?void 0:it.userAgent),isChrome:_e(),isIOSChrome:_e("ios"),isChromium:_e("chromium"),isFirefox:((ot=globalThis.navigator)==null?void 0:ot.userAgent.toLowerCase().indexOf("firefox"))>-1,isMac:((at=(nt=globalThis.navigator)==null?void 0:nt.appVersion)==null?void 0:at.indexOf("Mac"))!==-1,isIOS:/iPhone|iPad|iPod/i.test((lt=globalThis.navigator)==null?void 0:lt.userAgent),isMacSafari:((ht=globalThis.navigator)==null?void 0:ht.vendor)&&((ct=globalThis.navigator)==null?void 0:ct.vendor.indexOf("Apple"))>-1&&((dt=globalThis.navigator)==null?void 0:dt.userAgent)&&((ut=globalThis.navigator)==null?void 0:ut.userAgent.indexOf("CriOS"))===-1&&((gt=globalThis.navigator)==null?void 0:gt.userAgent.indexOf("FxiOS"))===-1&&((pt=globalThis.navigator)==null?void 0:pt.appVersion.indexOf("Mac"))!==-1};function lr(t=""){return`${t.length>0?`${t}-`:""}${Math.random().toString(36).substr(2,10)}`}const we=t=>t.key===" "||t.key==="Enter",Ze=t=>t.key===" ";class hr extends ar(M){static get properties(){return{active:{type:Boolean,reflect:!0},type:{type:String,reflect:!0}}}render(){return N` <div class="button-content" id="${this._buttonId}"><slot></slot></div> `}static get styles(){return[G`
        :host {
          position: relative;
          display: inline-flex;
          box-sizing: border-box;
          vertical-align: middle;
          line-height: 24px;
          background-color: #eee; /* minimal styling to make it recognizable as btn */
          padding: 8px; /* padding to fix with min-height */
          outline: none; /* focus style handled below */
          cursor: default; /* we should always see the default arrow, never a caret */
          /* TODO: remove, native button also allows selection. Could be usability concern... */
          user-select: none;
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
        }

        :host::before {
          content: '';

          /* center vertically and horizontally */
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);

          /* Minimum click area to meet [WCAG Success Criterion 2.5.5 Target Size (Enhanced)](https://www.w3.org/TR/WCAG22/#target-size-enhanced) */
          min-height: 44px;
          min-width: 44px;
          width: 100%;
          height: 100%;
        }

        .button-content {
          display: flex;
          align-items: center;
          justify-content: center;
        }

        /* Show focus styles on keyboard focus. */
        :host(:focus:not([disabled])),
        :host(:focus-visible) {
          /* if you extend, please overwrite */
          outline: 2px solid #bde4ff;
        }

        /* Hide focus styles if they're not needed, for example,
        when an element receives focus via the mouse. */
        :host(:focus:not(:focus-visible)) {
          outline: 0;
        }

        :host(:hover) {
          /* if you extend, please overwrite */
          background: #f4f6f7;
        }

        :host(:active), /* keep native :active to render quickly where possible */
        :host([active]) /* use custom [active] to fix IE11 */ {
          /* if you extend, please overwrite */
          background: gray;
        }

        :host([hidden]) {
          display: none;
        }

        :host([disabled]) {
          pointer-events: none;
          /* if you extend, please overwrite */
          background: lightgray;
          color: #adadad;
          fill: #adadad;
        }
      `]}constructor(){super(),this.type="button",this.active=!1,this._buttonId=lr("button"),he.isIE11&&this.updateComplete.then(()=>{this.hasAttribute("aria-labelledby")||this.setAttribute("aria-labelledby",this._buttonId)}),this.__setupEvents()}connectedCallback(){super.connectedCallback(),this.hasAttribute("role")||this.setAttribute("role","button")}updated(e){super.updated(e),e.has("disabled")&&this.setAttribute("aria-disabled",`${this.disabled}`)}__setupEvents(){this.addEventListener("mousedown",this.__mousedownHandler),this.addEventListener("keydown",this.__keydownHandler),this.addEventListener("keyup",this.__keyupHandler)}__mousedownHandler(){this.active=!0;const e=()=>{this.active=!1,document.removeEventListener("mouseup",e),this.removeEventListener("mouseup",e)};document.addEventListener("mouseup",e),this.addEventListener("mouseup",e)}__keydownHandler(e){if(this.active||!we(e)){Ze(e)&&e.preventDefault();return}Ze(e)&&e.preventDefault(),this.active=!0;const s=r=>{we(r)&&(this.active=!1,document.removeEventListener("keyup",s,!0))};document.addEventListener("keyup",s,!0)}__keyupHandler(e){if(we(e)){if(e.target&&e.target!==this)return;this.click()}}}customElements.define("lion-button",hr);const cr=G`
  body > *[inert] {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    pointer-events: none;
  }

  body.overlays-scroll-lock {
    overflow: hidden;
  }

  body.overlays-scroll-lock-ios-fix {
    position: fixed;
    width: 100%;
  }

  html.overlays-scroll-lock-ios-fix {
    height: 100vh;
  }
`;class T{static __createGlobalStyleNode(){const e=document.createElement("style");return e.setAttribute("data-overlays",""),e.textContent=cr.cssText,document.head.appendChild(e),e}get list(){return this.__list}get shownList(){return this.__shownList}constructor(){this.__list=[],this.__shownList=[],this.__siblingsInert=!1,this.__blockingMap=new WeakMap,T.__globalStyleNode||(T.__globalStyleNode=T.__createGlobalStyleNode())}add(e){if(this.list.find(s=>e===s))throw new Error("controller instance is already added");return this.list.push(e),e}remove(e){if(!this.list.find(s=>e===s))throw new Error("could not find controller to remove");this.__list=this.list.filter(s=>s!==e),this.__shownList=this.shownList.filter(s=>s!==e)}show(e){this.list.find(s=>e===s)&&this.hide(e),this.__shownList.unshift(e),Array.from(this.__shownList).reverse().forEach((s,r)=>{s.elevation=r+1})}hide(e){if(!this.list.find(s=>e===s))throw new Error("could not find controller to hide");this.__shownList=this.shownList.filter(s=>s!==e)}teardown(){this.list.forEach(e=>{e.teardown()}),this.__list=[],this.__shownList=[],this.__siblingsInert=!1,T.__globalStyleNode&&(document.head.removeChild(T.__globalStyleNode),T.__globalStyleNode=void 0)}get siblingsInert(){return this.__siblingsInert}disableTrapsKeyboardFocusForAll(){this.shownList.forEach(e=>{e.trapsKeyboardFocus===!0&&e.disableTrapsKeyboardFocus&&e.disableTrapsKeyboardFocus({findNewTrap:!1})})}informTrapsKeyboardFocusGotEnabled(e){this.siblingsInert===!1&&e==="global"&&(this.__siblingsInert=!0)}informTrapsKeyboardFocusGotDisabled({disabledCtrl:e,findNewTrap:s=!0}={}){const r=this.shownList.find(i=>i!==e&&i.trapsKeyboardFocus===!0);r?s&&r.enableTrapsKeyboardFocus():this.siblingsInert===!0&&(this.__siblingsInert=!1)}requestToPreventScroll(){const{isIOS:e,isMacSafari:s}=he;document.body.classList.add("overlays-scroll-lock"),(e||s)&&document.body.classList.add("overlays-scroll-lock-ios-fix"),e&&document.documentElement.classList.add("overlays-scroll-lock-ios-fix")}requestToEnableScroll(){if(this.shownList.some(i=>i.preventsScroll===!0))return;const{isIOS:s,isMacSafari:r}=he;document.body.classList.remove("overlays-scroll-lock"),(s||r)&&document.body.classList.remove("overlays-scroll-lock-ios-fix"),s&&document.documentElement.classList.remove("overlays-scroll-lock-ios-fix")}requestToShowOnly(e){const s=this.shownList.filter(r=>r!==e);s.forEach(r=>r.hide()),this.__blockingMap.set(e,s)}retractRequestToShowOnly(e){this.__blockingMap.has(e)&&this.__blockingMap.get(e).forEach(r=>r.show())}}T.__globalStyleNode=void 0;const dr="modulepreload",ur=function(t){return"/"+t},et={},gr=function(e,s,r){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),o=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));i=Promise.all(s.map(l=>{if(l=ur(l),l in et)return;et[l]=!0;const h=l.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const u=document.createElement("link");if(u.rel=h?"stylesheet":dr,h||(u.as="script",u.crossOrigin=""),u.href=l,o&&u.setAttribute("nonce",o),document.head.appendChild(u),h)return new Promise((g,p)=>{u.addEventListener("load",g),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>e()).catch(n=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=n,window.dispatchEvent(o),!o.defaultPrevented)throw n})},xe=Symbol.for("lion::SingletonManagerClassStorage"),Ee=globalThis||window;class pr{constructor(){this._map=Ee[xe]?Ee[xe]:Ee[xe]=new Map}set(e,s){this.has(e)||this._map.set(e,s)}get(e){return this._map.get(e)}has(e){return this._map.has(e)}}const fr=new pr,br=fr.get("@lion/ui::overlays::0.x")||new T;function Le(){let t=document.activeElement||document.body;for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}const tt=({visibility:t,display:e})=>t!=="hidden"&&e!=="none",yr=({display:t})=>t==="contents";function mr(t){if(!t||!t.isConnected||!tt(t.style))return!1;const e=window.getComputedStyle(t);return tt(e)?yr(e)?!0:!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length):!1}function vr(t,e){const s=Math.max(t.tabIndex,0),r=Math.max(e.tabIndex,0);return s===0||r===0?r>s:s>r}function _r(t,e){const s=[];for(;t.length>0&&e.length>0;)vr(t[0],e[0])?s.push(e.shift()):s.push(t.shift());return[...s,...t,...e]}function Ne(t){const e=t.length;if(e<2)return t;const s=Math.ceil(e/2),r=Ne(t.slice(0,s)),i=Ne(t.slice(s));return _r(r,i)}const Ce="matches"in Element.prototype?"matches":"msMatchesSelector";function wr(t){return t[Ce]("input, select, textarea, button, object")?t[Ce](":not([disabled])"):t[Ce]("a[href], area[href], iframe, [tabindex], [contentEditable]")}function xr(t){return wr(t)?Number(t.getAttribute("tabindex")||0):-1}function Er(t){if(t.localName==="slot")return t.assignedNodes({flatten:!0});const{children:e}=t.shadowRoot||t;return e||[]}function Cr(t){return t.nodeType!==Node.ELEMENT_NODE?!1:t.localName==="slot"?!0:mr(t)}function Pt(t,e){if(!Cr(t))return!1;const s=t,r=xr(s);let i=r>0;r>=0&&e.push(s);const n=Er(s);for(let o=0;o<n.length;o+=1)i=Pt(n[o],e)||i;return i}function Rt(t){const e=[];return Pt(t,e)?Ne(e):e}function ce(t,e){let s=t.contains(e);if(s)return!0;function r(i){for(let n=0;n<i.children.length;n+=1){const o=i.children[n];if(o.shadowRoot&&ce(o.shadowRoot,e)){s=!0;break}o.children.length>0&&r(o)}}return t instanceof HTMLElement&&t.shadowRoot&&(s=ce(t.shadowRoot,e),s)?!0:(r(t),s)}const Sr={enter:13,space:32,escape:27,tab:9};function Ar(t,e){const s=Rt(t);let r;s.length>=2?r=[s[0],s[s.length-1]]:s.length===1?r=[s[0],s[0]]:r=[t,t],e.shiftKey&&r.reverse();const[i,n]=r,o=Le();o===t||s.includes(o)&&n!==o||(e.preventDefault(),i.focus())}function Tr(t){const e=Rt(t),s=e.find(p=>p.hasAttribute("autofocus"))||t;let r,i;s===t&&(t.tabIndex=-1,t.style.setProperty("outline","none")),s.focus();function n(p){p.keyCode===Sr.tab&&Ar(t,p)}function o(){r=document.createElement("div"),r.style.display="none",r.setAttribute("data-is-tab-detection-element",""),t.insertBefore(r,t.children[0]),i=new MutationObserver(p=>{for(const y of p)if(y.type==="childList"){const x=!Array.from(t.children).find(k=>k.hasAttribute("data-is-tab-detection-element")),m=Array.from(y.addedNodes).find(k=>k instanceof HTMLElement&&k.hasAttribute("data-is-tab-detection-element"));x&&!m&&(i.disconnect(),o())}}),i.observe(t,{childList:!0})}function l(){return r.compareDocumentPosition(document.activeElement)===Node.DOCUMENT_POSITION_PRECEDING}function h({resetToRoot:p=!1}={}){if(ce(t,Le()))return;let y;p?y=t:y=e[l()?0:e.length-1],y&&y.focus()}function d(){window.removeEventListener("focusin",d),h()}function u(){setTimeout(()=>{ce(t,Le())||h({resetToRoot:!0})}),window.addEventListener("focusin",d)}function g(){window.removeEventListener("keydown",n),window.removeEventListener("focusin",d),window.removeEventListener("focusout",u),i.disconnect(),Array.from(t.children).includes(r)&&t.removeChild(r),t.style.removeProperty("outline")}return window.addEventListener("keydown",n),window.addEventListener("focusout",u),o(),{disconnect:g}}const st=G`
  .overlays {
    position: fixed;
    z-index: 200;
  }

  .overlays__overlay-container {
    display: flex;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }

  .overlays__overlay-container::backdrop {
    display: none;
  }

  .overlays__overlay-container--top-left {
    justify-content: flex-start;
    align-items: flex-start;
  }

  .overlays__overlay-container--top {
    justify-content: center;
    align-items: flex-start;
  }

  .overlays__overlay-container--top-right {
    justify-content: flex-end;
    align-items: flex-start;
  }

  .overlays__overlay-container--right {
    justify-content: flex-end;
    align-items: center;
  }

  .overlays__overlay-container--bottom-left {
    justify-content: flex-start;
    align-items: flex-end;
  }

  .overlays__overlay-container--bottom {
    justify-content: center;
    align-items: flex-end;
  }

  .overlays__overlay-container--bottom-right {
    justify-content: flex-end;
    align-items: flex-end;
  }

  .overlays__overlay-container--left {
    justify-content: flex-start;
    align-items: center;
  }

  .overlays__overlay-container--center {
    justify-content: center;
    align-items: center;
  }

  .overlays__overlay--bottom-sheet {
    width: 100%;
  }

  ::slotted(.overlays__overlay),
  .overlays__overlay {
    pointer-events: auto;
  }

  .overlays__backdrop {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    background-color: #333333;
    display: none;
  }

  .overlays__backdrop--visible {
    display: block;
  }

  .overlays__backdrop--animation-in {
    animation: overlays-backdrop-fade-in 300ms;
    opacity: 0.3;
  }

  .overlays__backdrop--animation-out {
    animation: overlays-backdrop-fade-out 300ms;
    opacity: 0;
  }

  @keyframes overlays-backdrop-fade-in {
    from {
      opacity: 0;
    }
  }

  @keyframes overlays-backdrop-fade-out {
    from {
      opacity: 0.3;
    }
  }

  @media screen and (prefers-reduced-motion: reduce) {
    .overlays .overlays__backdrop--animation-in {
      animation: overlays-backdrop-fade-in 1ms;
    }

    .overlays .overlays__backdrop--animation-out {
      animation: overlays-backdrop-fade-out 1ms;
    }
  }

  dialog[data-overlay-outer-wrapper] {
    background-image: none;
    border-style: none;
    padding: 0px;
  }

  /** 
   * We don't want to use pseudo el ::backdrop.  
   * We have our own, that creates more flexibility wrt scrolling etc.
   */
  dialog[data-overlay-outer-wrapper]::backdrop {
    display: none;
  }
`,z={supportsAdoptingStyleSheets:window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,adoptStyle:void 0,adoptStyles:void 0},Se=new Map;function kr(t){return Array.from(t.cssRules).map(e=>e.cssText).join("")}function $r(t,e,{teardown:s=!1}={}){const r=t===document?document.body:t,i=e.cssText||kr(e);if(s){const n=Array.from(r.querySelectorAll("style"));for(const o of n)if(o.textContent===i){o.remove();break}}else{const n=document.createElement("style"),o=window.litNonce;o!==void 0&&n.setAttribute("nonce",o),n.textContent=i,r.appendChild(n)}}function Or(t,e,{teardown:s=!1}={}){let r=!1;Se.has(t)||Se.set(t,[]);const i=Se.get(t),n=i.find(o=>e===o);return n&&s?i.splice(i.indexOf(e),1):!n&&!s?i.push(e):(n&&!s||!n&&s)&&(r=!0),{haltFurtherExecution:r}}function Lr(t,e,{teardown:s=!1}={}){const{haltFurtherExecution:r}=Or(t,e,{teardown:s});if(r)return;if(!z.supportsAdoptingStyleSheets||he.isIOS){$r(t,e,{teardown:s});return}const i=e instanceof CSSStyleSheet?e:e.styleSheet;if(!i)throw new Error("Please provide a CSSResultOrNative style");s?t.adoptedStyleSheets.includes(i)&&t.adoptedStyleSheets.splice(t.adoptedStyleSheets.indexOf(i),1):t.adoptedStyleSheets=[...t.adoptedStyleSheets,i]}function Nr(t,e,{teardown:s=!1}={}){for(const r of e)z.adoptStyle(t,r,{teardown:s})}z.adoptStyle=Lr;z.adoptStyles=Nr;function Mr({wrappingDialogNodeL1:t,contentWrapperNodeL2:e,contentNodeL3:s}){if(!(e.isConnected||s.isConnected))throw new Error('[OverlayController] Could not find a render target, since the provided contentNode is not connected to the DOM. Make sure that it is connected, e.g. by doing "document.body.appendChild(contentNode)", before passing it on.');let r;const i=document.createComment("tempMarker");e.isConnected?(r=e.parentElement||e.getRootNode(),r.insertBefore(i,e),t.appendChild(e)):s.assignedSlot?(r=s.assignedSlot.parentElement||s.assignedSlot.getRootNode(),r.insertBefore(i,s.assignedSlot),t.appendChild(e),e.appendChild(s.assignedSlot)):(r=s.parentElement||s.getRootNode(),r.insertBefore(i,s),t.appendChild(e),e.appendChild(s)),r.insertBefore(t,i),r==null||r.removeChild(i)}async function Pr(){return gr(()=>import("./assets/popper-D3Hp_0iY.js"),[])}class D extends EventTarget{constructor(e={},s=br){super(),this.manager=s,this.__sharedConfig=e,this.__activeElementRightBeforeHide=null,this.config={},this._defaultConfig={placementMode:void 0,contentNode:e.contentNode,contentWrapperNode:e.contentWrapperNode,invokerNode:e.invokerNode,backdropNode:e.backdropNode,referenceNode:void 0,elementToFocusAfterHide:e.invokerNode,inheritsReferenceWidth:"none",hasBackdrop:!1,isBlocking:!1,preventsScroll:!1,trapsKeyboardFocus:!1,hidesOnEsc:!1,hidesOnOutsideEsc:!1,hidesOnOutsideClick:!1,isTooltip:!1,invokerRelation:"description",visibilityTriggerFunction:void 0,handlesAccessibility:!1,popperConfig:{placement:"top",strategy:"fixed",modifiers:[{name:"preventOverflow",enabled:!0,options:{boundariesElement:"viewport",padding:8}},{name:"flip",options:{boundariesElement:"viewport",padding:16}},{name:"offset",enabled:!0,options:{offset:[0,8]}},{name:"arrow",enabled:!1}]},viewportConfig:{placement:"center"},zIndex:9999},this.manager.add(this),this._contentId=`overlay-content--${Math.random().toString(36).slice(2,10)}`,this.__originalAttrs=new Map,this.updateConfig(e),this.__hasActiveTrapsKeyboardFocus=!1,this.__hasActiveBackdrop=!0,this.__escKeyHandler=this.__escKeyHandler.bind(this)}get invoker(){return this.invokerNode}get content(){return this.__wrappingDialogNode}get placementMode(){var e;return(e=this.config)==null?void 0:e.placementMode}get invokerNode(){var e;return(e=this.config)==null?void 0:e.invokerNode}get referenceNode(){var e;return(e=this.config)==null?void 0:e.referenceNode}get contentNode(){var e;return(e=this.config)==null?void 0:e.contentNode}get contentWrapperNode(){var e;return this.__contentWrapperNode||((e=this.config)==null?void 0:e.contentWrapperNode)}get backdropNode(){var e;return this.__backdropNode||((e=this.config)==null?void 0:e.backdropNode)}get elementToFocusAfterHide(){var e;return this.__elementToFocusAfterHide||((e=this.config)==null?void 0:e.elementToFocusAfterHide)}get hasBackdrop(){var e;return!!this.backdropNode||((e=this.config)==null?void 0:e.hasBackdrop)}get isBlocking(){var e;return(e=this.config)==null?void 0:e.isBlocking}get preventsScroll(){var e;return(e=this.config)==null?void 0:e.preventsScroll}get trapsKeyboardFocus(){var e;return(e=this.config)==null?void 0:e.trapsKeyboardFocus}get hidesOnEsc(){var e;return(e=this.config)==null?void 0:e.hidesOnEsc}get hidesOnOutsideClick(){var e;return(e=this.config)==null?void 0:e.hidesOnOutsideClick}get hidesOnOutsideEsc(){var e;return(e=this.config)==null?void 0:e.hidesOnOutsideEsc}get inheritsReferenceWidth(){var e;return(e=this.config)==null?void 0:e.inheritsReferenceWidth}get handlesAccessibility(){var e;return(e=this.config)==null?void 0:e.handlesAccessibility}get isTooltip(){var e;return(e=this.config)==null?void 0:e.isTooltip}get invokerRelation(){var e;return(e=this.config)==null?void 0:e.invokerRelation}get popperConfig(){var e;return(e=this.config)==null?void 0:e.popperConfig}get viewportConfig(){var e;return(e=this.config)==null?void 0:e.viewportConfig}get visibilityTriggerFunction(){var e;return(e=this.config)==null?void 0:e.visibilityTriggerFunction}get _referenceNode(){return this.referenceNode||this.invokerNode}set elevation(e){this.__wrappingDialogNode.style.zIndex=`${this.config.zIndex+e}`}get elevation(){var e;return Number((e=this.contentWrapperNode)==null?void 0:e.style.zIndex)}updateConfig(e){var s,r,i;this.teardown(),this.__prevConfig=this.config,this.config={...this._defaultConfig,...this.__sharedConfig,...e,popperConfig:{...this._defaultConfig.popperConfig||{},...this.__sharedConfig.popperConfig||{},...e.popperConfig||{},modifiers:[...((s=this._defaultConfig.popperConfig)==null?void 0:s.modifiers)||[],...((r=this.__sharedConfig.popperConfig)==null?void 0:r.modifiers)||[],...((i=e.popperConfig)==null?void 0:i.modifiers)||[]]}},this.__validateConfiguration(this.config),this._init(),this.__elementToFocusAfterHide=void 0}__validateConfiguration(e){if(!e.placementMode)throw new Error('[OverlayController] You need to provide a .placementMode ("global"|"local")');if(!["global","local"].includes(e.placementMode))throw new Error(`[OverlayController] "${e.placementMode}" is not a valid .placementMode, use ("global"|"local")`);if(!e.contentNode)throw new Error("[OverlayController] You need to provide a .contentNode");if(e.isTooltip&&!e.handlesAccessibility)throw new Error("[OverlayController] .isTooltip only takes effect when .handlesAccessibility is enabled")}_init(){this.__contentHasBeenInitialized||(this.__initContentDomStructure(),this.__contentHasBeenInitialized=!0),this.contentWrapperNode.removeAttribute("style"),this.contentWrapperNode.removeAttribute("class"),this.placementMode==="local"&&(D.popperModule||(D.popperModule=Pr())),this.__handleOverlayStyles({phase:"init"}),this._handleFeatures({phase:"init"})}__handleOverlayStyles({phase:e}){var r;const s=(r=this.contentWrapperNode)==null?void 0:r.getRootNode();e==="init"?z.adoptStyle(s,st):e==="teardown"&&z.adoptStyle(s,st,{teardown:!0})}__initContentDomStructure(){var s,r;const e=document.createElement((s=this.config)!=null&&s._noDialogEl?"div":"dialog");e.setAttribute("role","none"),e.setAttribute("data-overlay-outer-wrapper",""),e.style.cssText=`display:none; z-index: ${this.config.zIndex}; padding: 0;`,this.__wrappingDialogNode=e,(r=this.config)!=null&&r.contentWrapperNode||(this.__contentWrapperNode=document.createElement("div")),this.contentWrapperNode.setAttribute("data-id","content-wrapper"),Mr({wrappingDialogNodeL1:e,contentWrapperNodeL2:this.contentWrapperNode,contentNodeL3:this.contentNode}),e.open=!0,this.__wrappingDialogNode.style.display="none",this.contentWrapperNode.style.zIndex="1",getComputedStyle(this.contentNode).position==="absolute"&&(this.contentNode.style.position="static")}_handleZIndex({phase:e}){if(this.placementMode==="local"&&e==="setup"){const s=Number(getComputedStyle(this.contentNode).zIndex);(s<1||Number.isNaN(s))&&(this.contentNode.style.zIndex="1")}}__setupTeardownAccessibility({phase:e}){e==="init"?(this.__storeOriginalAttrs(this.contentNode,["role","id"]),this.invokerNode&&this.__storeOriginalAttrs(this.invokerNode,["aria-expanded","aria-labelledby","aria-describedby"]),this.contentNode.id||this.contentNode.setAttribute("id",this._contentId),this.isTooltip?(this.invokerNode&&this.invokerNode.setAttribute(this.invokerRelation==="label"?"aria-labelledby":"aria-describedby",this._contentId),this.contentNode.setAttribute("role","tooltip")):(this.invokerNode&&this.invokerNode.setAttribute("aria-expanded",`${this.isShown}`),this.contentNode.getAttribute("role")||this.contentNode.setAttribute("role","dialog"))):e==="teardown"&&this.__restoreOriginalAttrs()}__storeOriginalAttrs(e,s){const r={};s.forEach(i=>{r[i]=e.getAttribute(i)}),this.__originalAttrs.set(e,r)}__restoreOriginalAttrs(){for(const[e,s]of this.__originalAttrs)Object.entries(s).forEach(([r,i])=>{i!==null?e.setAttribute(r,i):e.removeAttribute(r)});this.__originalAttrs.clear()}get isShown(){var e;return((e=this.__wrappingDialogNode)==null?void 0:e.style.display)!=="none"}async show(e=this.elementToFocusAfterHide){if(this._showComplete&&await this._showComplete,this._showComplete=new Promise(r=>{this._showResolve=r}),this.manager&&this.manager.show(this),this.isShown){this._showResolve();return}const s=new CustomEvent("before-show",{cancelable:!0});this.dispatchEvent(s),s.defaultPrevented||("HTMLDialogElement"in window&&this.__wrappingDialogNode instanceof HTMLDialogElement&&(this.__wrappingDialogNode.open=!0),this.__wrappingDialogNode.style.display="",this._keepBodySize({phase:"before-show"}),await this._handleFeatures({phase:"show"}),this._keepBodySize({phase:"show"}),await this._handlePosition({phase:"show"}),this.__elementToFocusAfterHide=e,this.dispatchEvent(new Event("show")),await this._transitionShow({backdropNode:this.backdropNode,contentNode:this.contentNode})),this._showResolve()}async _handlePosition({phase:e}){if(this.placementMode==="global"){const s=`overlays__overlay-container--${this.viewportConfig.placement}`;e==="show"?(this.contentWrapperNode.classList.add("overlays__overlay-container"),this.contentWrapperNode.classList.add(s),this.contentNode.classList.add("overlays__overlay")):e==="hide"&&(this.contentWrapperNode.classList.remove("overlays__overlay-container"),this.contentWrapperNode.classList.remove(s),this.contentNode.classList.remove("overlays__overlay"))}else this.placementMode==="local"&&e==="show"&&(await this.__createPopperInstance(),this._popper.forceUpdate())}_keepBodySize({phase:e}){var s,r;switch(e){case"before-show":this.__bodyClientWidth=document.body.clientWidth,this.__bodyClientHeight=document.body.clientHeight,this.__bodyMarginRightInline=document.body.style.marginRight,this.__bodyMarginBottomInline=document.body.style.marginBottom;break;case"show":{if(window.getComputedStyle){const h=window.getComputedStyle(document.body);this.__bodyMarginRight=parseInt(h.getPropertyValue("margin-right"),10),this.__bodyMarginBottom=parseInt(h.getPropertyValue("margin-bottom"),10)}else this.__bodyMarginRight=0,this.__bodyMarginBottom=0;const i=document.body.clientWidth-this.__bodyClientWidth,n=document.body.clientHeight-this.__bodyClientHeight,o=this.__bodyMarginRight+i,l=this.__bodyMarginBottom+n;(s=window.CSS)!=null&&s.number&&((r=document.body.attributeStyleMap)!=null&&r.set)?(document.body.attributeStyleMap.set("margin-right",CSS.px(o)),document.body.attributeStyleMap.set("margin-bottom",CSS.px(l))):(document.body.style.marginRight=`${o}px`,document.body.style.marginBottom=`${l}px`);break}case"hide":document.body.style.marginRight=this.__bodyMarginRightInline||"",document.body.style.marginBottom=this.__bodyMarginBottomInline||"";break}}async hide(){if(this._hideComplete=new Promise(s=>{this._hideResolve=s}),this.__activeElementRightBeforeHide=this.contentNode.getRootNode().activeElement,this.manager&&this.manager.hide(this),!this.isShown){this._hideResolve();return}const e=new CustomEvent("before-hide",{cancelable:!0});this.dispatchEvent(e),e.defaultPrevented||(await this._transitionHide({backdropNode:this.backdropNode,contentNode:this.contentNode}),"HTMLDialogElement"in window&&this.__wrappingDialogNode instanceof HTMLDialogElement&&this.__wrappingDialogNode.close(),this.__wrappingDialogNode.style.display="none",this._handleFeatures({phase:"hide"}),this._keepBodySize({phase:"hide"}),this.dispatchEvent(new Event("hide")),this._restoreFocus()),this._hideResolve()}async transitionHide(e){}async _transitionHide({backdropNode:e,contentNode:s}){await this.transitionHide({backdropNode:e,contentNode:s}),this._handlePosition({phase:"hide"}),e&&e.classList.remove("overlays__backdrop--animation-in")}async transitionShow(e){}async _transitionShow(e){await this.transitionShow({backdropNode:this.backdropNode,contentNode:this.contentNode}),e.backdropNode&&e.backdropNode.classList.add("overlays__backdrop--animation-in")}_restoreFocus(){this.__activeElementRightBeforeHide instanceof HTMLElement&&this.contentNode.contains(this.__activeElementRightBeforeHide)&&(this.elementToFocusAfterHide instanceof HTMLElement?(this.elementToFocusAfterHide.focus(),this.elementToFocusAfterHide.scrollIntoView({block:"nearest"})):this.__activeElementRightBeforeHide.blur())}async toggle(){return this.isShown?this.hide():this.show()}_handleFeatures({phase:e}){this._handleZIndex({phase:e}),this.preventsScroll&&this._handlePreventsScroll({phase:e}),this.isBlocking&&this._handleBlocking({phase:e}),this.hasBackdrop&&this._handleBackdrop({phase:e}),this.trapsKeyboardFocus&&this._handleTrapsKeyboardFocus({phase:e}),this.hidesOnEsc&&this._handleHidesOnEsc({phase:e}),this.hidesOnOutsideEsc&&this._handleHidesOnOutsideEsc({phase:e}),this.hidesOnOutsideClick&&this._handleHidesOnOutsideClick({phase:e}),this.handlesAccessibility&&this._handleAccessibility({phase:e}),this.inheritsReferenceWidth&&this._handleInheritsReferenceWidth(),this.visibilityTriggerFunction&&this._handleVisibilityTriggers({phase:e})}_handleVisibilityTriggers({phase:e}){typeof this.visibilityTriggerFunction=="function"&&(e==="init"&&(this.__visibilityTriggerHandler=this.visibilityTriggerFunction({phase:e,controller:this})),this.__visibilityTriggerHandler[e]&&this.__visibilityTriggerHandler[e]())}_handlePreventsScroll({phase:e}){switch(e){case"show":this.manager.requestToPreventScroll();break;case"hide":this.manager.requestToEnableScroll();break}}_handleBlocking({phase:e}){switch(e){case"show":this.manager.requestToShowOnly(this);break;case"hide":this.manager.retractRequestToShowOnly(this);break}}get hasActiveBackdrop(){return this.__hasActiveBackdrop}_handleBackdrop({phase:e}){var s;switch(e){case"init":{this.__backdropInitialized||((s=this.config)!=null&&s.backdropNode||(this.__backdropNode=document.createElement("div"),this.__backdropNode.classList.add("overlays__backdrop")),this.__wrappingDialogNode.prepend(this.backdropNode),this.__backdropInitialized=!0);break}case"show":this.config.hasBackdrop&&this.backdropNode.classList.add("overlays__backdrop--visible"),this.__hasActiveBackdrop=!0;break;case"hide":case"teardown":this.backdropNode.classList.remove("overlays__backdrop--visible"),this.__hasActiveBackdrop=!1;break}}get hasActiveTrapsKeyboardFocus(){return this.__hasActiveTrapsKeyboardFocus}_handleTrapsKeyboardFocus({phase:e}){e==="show"?("showModal"in this.__wrappingDialogNode&&(this.__wrappingDialogNode.close(),this.__wrappingDialogNode.showModal()),this.enableTrapsKeyboardFocus()):(e==="hide"||e==="teardown")&&this.disableTrapsKeyboardFocus()}enableTrapsKeyboardFocus(){this.__hasActiveTrapsKeyboardFocus||(this.manager&&this.manager.disableTrapsKeyboardFocusForAll(),this._containFocusHandler=Tr(this.contentNode),this.__hasActiveTrapsKeyboardFocus=!0,this.manager&&this.manager.informTrapsKeyboardFocusGotEnabled(this.placementMode))}disableTrapsKeyboardFocus({findNewTrap:e=!0}={}){this.__hasActiveTrapsKeyboardFocus&&(this._containFocusHandler&&(this._containFocusHandler.disconnect(),this._containFocusHandler=void 0),this.__hasActiveTrapsKeyboardFocus=!1,this.manager&&this.manager.informTrapsKeyboardFocusGotDisabled({disabledCtrl:this,findNewTrap:e}))}__escKeyHandler(e){return e.key==="Escape"&&this.hide()}_handleHidesOnEsc({phase:e}){e==="show"?(this.contentNode.addEventListener("keyup",this.__escKeyHandler),this.invokerNode&&this.invokerNode.addEventListener("keyup",this.__escKeyHandler)):e==="hide"&&(this.contentNode.removeEventListener("keyup",this.__escKeyHandler),this.invokerNode&&this.invokerNode.removeEventListener("keyup",this.__escKeyHandler))}_handleHidesOnOutsideEsc({phase:e}){e==="show"?(this.__escKeyHandler=s=>s.key==="Escape"&&this.hide(),document.addEventListener("keyup",this.__escKeyHandler)):e==="hide"&&document.removeEventListener("keyup",this.__escKeyHandler)}_handleInheritsReferenceWidth(){if(!this._referenceNode||this.placementMode==="global")return;const e=`${this._referenceNode.getBoundingClientRect().width}px`;switch(this.inheritsReferenceWidth){case"max":this.contentWrapperNode.style.maxWidth=e;break;case"full":this.contentWrapperNode.style.width=e;break;case"min":this.contentWrapperNode.style.minWidth=e,this.contentWrapperNode.style.width="auto";break}}_handleHidesOnOutsideClick({phase:e}){const s=e==="show"?"addEventListener":"removeEventListener";if(e==="show"){let r=!1,i=!1;this.__onInsideMouseDown=()=>{r=!0},this.__onInsideMouseUp=()=>{i=!0},this.__onDocumentMouseUp=()=>{setTimeout(()=>{!r&&!i&&this.hide(),r=!1,i=!1})}}this.contentWrapperNode[s]("mousedown",this.__onInsideMouseDown,!0),this.contentWrapperNode[s]("mouseup",this.__onInsideMouseUp,!0),this.invokerNode&&(this.invokerNode[s]("mousedown",this.__onInsideMouseDown,!0),this.invokerNode[s]("mouseup",this.__onInsideMouseUp,!0)),document.documentElement[s]("mouseup",this.__onDocumentMouseUp,!0)}_handleAccessibility({phase:e}){(e==="init"||e==="teardown")&&this.__setupTeardownAccessibility({phase:e}),this.invokerNode&&!this.isTooltip&&this.invokerNode.setAttribute("aria-expanded",`${e==="show"}`)}teardown(){this.__handleOverlayStyles({phase:"teardown"}),this._handleFeatures({phase:"teardown"})}async __createPopperInstance(){var e;if(this._popper&&(this._popper.destroy(),this._popper=void 0),D.popperModule!==void 0){const{createPopper:s}=await D.popperModule;this._popper=s(this._referenceNode,this.contentWrapperNode,{...(e=this.config)==null?void 0:e.popperConfig})}}_hasDisabledInvoker(){return this.invokerNode?this.invokerNode.disabled||this.invokerNode.getAttribute("aria-disabled")==="true":!1}}D.popperModule=void 0;function It(t,e){if(typeof t!="object"||typeof e!="object"||t===null||e===null)return t===e;const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;const i=n=>It(t[n],e[n]);return s.every(i)}const Rr=t=>class extends t{static get properties(){return{opened:{type:Boolean,reflect:!0}}}constructor(){super(),this.opened=!1,this.config={},this.toggle=this.toggle.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this)}get config(){return this.__config}set config(s){const r=!It(this.config,s);this._overlayCtrl&&r&&this._overlayCtrl.updateConfig(s),this.__config=s,this._overlayCtrl&&r&&this.__syncToOverlayController()}requestUpdate(s,r,i){super.requestUpdate(s,r,i),s==="opened"&&this.opened!==r&&this.dispatchEvent(new Event("opened-changed"))}_defineOverlay({contentNode:s,invokerNode:r,referenceNode:i,backdropNode:n,contentWrapperNode:o}){var h,d,u,g;const l=this._defineOverlayConfig()||{};return new D({contentNode:s,invokerNode:r,referenceNode:i,backdropNode:n,contentWrapperNode:o,...l,...this.config,popperConfig:{...l.popperConfig||{},...((h=this.config)==null?void 0:h.popperConfig)||{},modifiers:[...((d=l.popperConfig)==null?void 0:d.modifiers)||[],...((g=(u=this.config)==null?void 0:u.popperConfig)==null?void 0:g.modifiers)||[]]}})}_defineOverlayConfig(){return{placementMode:"local"}}updated(s){super.updated(s),s.has("opened")&&this._overlayCtrl&&!this.__blockSyncToOverlayCtrl&&this.__syncToOverlayController()}_setupOpenCloseListeners(){this.__closeEventInContentNodeHandler=s=>{s.stopPropagation(),this._overlayCtrl.hide()},this._overlayContentNode&&this._overlayContentNode.addEventListener("close-overlay",this.__closeEventInContentNodeHandler)}_teardownOpenCloseListeners(){this._overlayContentNode&&this._overlayContentNode.removeEventListener("close-overlay",this.__closeEventInContentNodeHandler)}firstUpdated(s){super.firstUpdated(s),this._setupOverlayCtrl()}disconnectedCallback(){super.disconnectedCallback(),this._overlayCtrl&&this._teardownOverlayCtrl()}get _overlayInvokerNode(){return Array.from(this.children).find(s=>s.slot==="invoker")}get _overlayReferenceNode(){}get _overlayBackdropNode(){return this.__cachedOverlayBackdropNode||(this.__cachedOverlayBackdropNode=Array.from(this.children).find(s=>s.slot==="backdrop")),this.__cachedOverlayBackdropNode}get _overlayContentNode(){return this._cachedOverlayContentNode||(this._cachedOverlayContentNode=Array.from(this.children).find(s=>s.slot==="content")||this.config.contentNode),this._cachedOverlayContentNode}get _overlayContentWrapperNode(){var s;return(s=this.shadowRoot)==null?void 0:s.querySelector("#overlay-content-node-wrapper")}_setupOverlayCtrl(){this._overlayCtrl=this._defineOverlay({contentNode:this._overlayContentNode,contentWrapperNode:this._overlayContentWrapperNode,invokerNode:this._overlayInvokerNode,referenceNode:this._overlayReferenceNode,backdropNode:this._overlayBackdropNode}),this.__syncToOverlayController(),this.__setupSyncFromOverlayController(),this._setupOpenCloseListeners()}_teardownOverlayCtrl(){this._teardownOpenCloseListeners(),this.__teardownSyncFromOverlayController(),this._overlayCtrl.teardown()}async _setOpenedWithoutPropertyEffects(s){this.__blockSyncToOverlayCtrl=!0,this.opened=s,await this.updateComplete,this.__blockSyncToOverlayCtrl=!1}__setupSyncFromOverlayController(){this.__onOverlayCtrlShow=()=>{this.opened=!0},this.__onOverlayCtrlHide=()=>{this.opened=!1},this.__onBeforeShow=s=>{const r=new CustomEvent("before-opened",{cancelable:!0});this.dispatchEvent(r),r.defaultPrevented&&(this._setOpenedWithoutPropertyEffects(this._overlayCtrl.isShown),s.preventDefault())},this.__onBeforeHide=s=>{const r=new CustomEvent("before-closed",{cancelable:!0});this.dispatchEvent(r),r.defaultPrevented&&(this._setOpenedWithoutPropertyEffects(this._overlayCtrl.isShown),s.preventDefault())},this._overlayCtrl.addEventListener("show",this.__onOverlayCtrlShow),this._overlayCtrl.addEventListener("hide",this.__onOverlayCtrlHide),this._overlayCtrl.addEventListener("before-show",this.__onBeforeShow),this._overlayCtrl.addEventListener("before-hide",this.__onBeforeHide)}__teardownSyncFromOverlayController(){this._overlayCtrl.removeEventListener("show",this.__onOverlayCtrlShow),this._overlayCtrl.removeEventListener("hide",this.__onOverlayCtrlHide),this._overlayCtrl.removeEventListener("before-show",this.__onBeforeShow),this._overlayCtrl.removeEventListener("before-hide",this.__onBeforeHide)}__syncToOverlayController(){this.opened?this._overlayCtrl.show():this._overlayCtrl.hide()}async toggle(){await this._overlayCtrl.toggle()}async open(){await this._overlayCtrl.show()}async close(){await this._overlayCtrl.hide()}repositionOverlay(){const s=this._overlayCtrl;s.placementMode==="local"&&s._popper&&s._popper.update()}},Ir=De(Rr);function Dr(){return{visibilityTriggerFunction:({controller:t})=>{function e(){t._hasDisabledInvoker()||t.toggle()}return{init:()=>{var s;(s=t.invokerNode)==null||s.addEventListener("click",e)},teardown:()=>{var s;(s=t.invokerNode)==null||s.removeEventListener("click",e)}}}}}const Br=()=>({placementMode:"global",viewportConfig:{placement:"center"},hasBackdrop:!0,preventsScroll:!0,trapsKeyboardFocus:!0,hidesOnEsc:!0,handlesAccessibility:!0,...Dr()});class Fr extends Ir(M){_defineOverlayConfig(){return{...Br()}}render(){return N`
      <slot name="invoker"></slot>
      <div id="overlay-content-node-wrapper">
        <slot name="content"></slot>
      </div>
    `}}customElements.define("lion-dialog",Fr);var Ur=Object.defineProperty,Hr=Object.getOwnPropertyDescriptor,se=(t,e,s,r)=>{for(var i=r>1?void 0:r?Hr(e,s):e,n=t.length-1,o;n>=0;n--)(o=t[n])&&(i=(r?o(e,s,i):o(i))||i);return r&&i&&Ur(e,s,i),i};let U=class extends sr{constructor(){super(),this.errors=[],this.provider=new J(this,{context:Xs,initialValue:void 0})}onFileChanged(t,e){console.log(t,e)}connectedCallback(){super.connectedCallback(),this.enqueueInTheRegistry()}disconnectedCallback(){this.file&&this.file.unmountFromDom()}enqueueInTheRegistry(){this.thermal&&this.group.instances.enqueueAdd(this.thermal,this.visible,(t,e)=>{console.log("Webkomponenta si fetchla",t,e),t?(this.provider.setValue(t),this.file=t,this.errors=[]):e&&(this.errors=e.split("+|+"))})}willUpdate(t){super.willUpdate(t),(t.has("thermal")||t.has("visible"))&&console.log("file will update",{currentThis:{thermal:this.thermal,visible:this.visible},changed:t}),t.has("file")&&this.file&&this.file.unmountFromDom()}update(t){var e,s;if(super.update(t),t.has("file")){const r=this.renderRoot.querySelector("#canvas-container");(e=this.file)==null||e.mountToDom(r),(s=this.file)==null||s.draw()}}render(){return N`
        <div class="container">
            <div id="canvas-container"></div>

            ${this.errors.length>0?N`
                <div class="errors">
                    <div class="wrapper">

                    <div class="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" />
                        </svg>
                    </div>

                    <div>
                        File loading error
                    </div>

                    <div class="url">
                        ${this.thermal}
                    </div>

                        <lion-dialog>
                            
                            <button slot="invoker" class="error-button">
                                details
                            </button>

                            <div slot="content" class="dialog">
                                <h2>Loading errors</h2>
                                <dl>
                                    <dt>URL:</dt>
                                    <dd>${this.thermal}</dd>
                                    <dt>Errors:</dt>
                                    <ul>
                                    ${this.errors.map(t=>N`<li>${t}</li>`)}
                                    </ul>
                                </dl>
                                <button
                                    class="close-button"
                                    @click=${t=>t.target.dispatchEvent(new Event("close-overlay",{bubbles:!0}))}
                                >
                                    â¨¯
                                </button>
                            </div>
                        </lion-dialog>
                    </div>
                </div>    
            `:""}
            <slot></slot>
        </div>
        `}};U.styles=G`

    .container {
        background: green;
        width: 100%;
        aspect-ratio: 4 / 3;
        margin: 0;
        padding: 0;
        position: relative;
        box-sizing: border-box;
    }

    .errors {
        box-sizing: border-box;
        padding: 1rem;
        width: 100%;
        height: 100%;
        margin: 0;
        background: lightgray;
        color: black;

        .wrapper {
        
            display: flex;
            flex-wrap: wrap;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: .5rem;

            box-sizing: border-box;
            width: 100%;
            height: 100%;

            border: 2px dashed white;
            border-radius: 2rem;

            padding: 1rem;

        }

        .icon {
            width: 1.5rem;
        }

        .url {
            font-size: small;
            color: gray;
        }

        .error-button {
            margin: 0;
            padding: 0;
            background: transparent;
            min-width: 2rem;
            border: 0;
            cursor: pointer;
            font-size: small;
            color: gray;
            border-bottom: 1px dotted gray;
        }

        .dialog {

            padding: 2rem;
            background: white;
            max-width: 500px;
            border-radius: 2rem;
            position: relative;

            h2 {
                margin: 0;
                padding: 0;
            }

            dt {
                color: gray;
                margin-bottom: .2rem;
                margin-top: 1rem;
            }

            dd {
                padding: 0;
                margin: 0;
            }

            .close-button {
                position: absolute;
                top: 2rem;
                right: 2rem;
                background: transparent;
                border: 0;
                cursor: pointer;
                font-size: 2rem;
                line-height: 1rem;
                &:hover {
                    color: blue;
                }
            }
        
        }

        

    }
    
    `;se([H({type:String,reflect:!0})],U.prototype,"thermal",2);se([H({type:String,reflect:!0})],U.prototype,"visible",2);se([St()],U.prototype,"file",2);se([St()],U.prototype,"errors",2);U=se([ge("thermal-image")],U);console.info(`@labir/embedded ${zt}
Author: ${Kt}
Repository: ${Gt.url}
`);document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("from"),e=document.getElementById("to");t&&setTimeout(()=>{e==null||e.appendChild(t),t.setAttribute("name","Jsme jmÃ©no")},5e3),console.log(document)});
