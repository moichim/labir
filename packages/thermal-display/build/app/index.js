(()=>{"use strict";var e,a={854:()=>{const e=window.wp.blocks,a=window.wp.i18n,s=window.wp.element,l=window.wp.blockEditor,i=window.wp.components,t="labir_embed_lib_dynamical",n=window.location.origin,r=e=>{const a=e.createElement("script");return a.type="module",a.id=t,a.innerHTML=`import '${n}/wp-content/plugins/thermal-display/assets/embed.esm.js'`,a},o=e=>!!e.getElementById(t),d=window.ReactJSXRuntime,c=({thermal:e,open:a,setOpen:l,attributes:t,setAttributes:n})=>{const r=(0,s.useMemo)((()=>(1e6*Math.random()).toFixed(0)),[]),o=(0,s.useCallback)((e=>`${r}__${e}`),[r]),{palette:c,from:h,to:p,analysis1:m,analysis2:y,analysis3:v,analysis4:x,analysis5:u,analysis6:j,analysis7:g}=t,b=(0,s.useCallback)((e=>{if(e){const a=e=>{e.slots.onSlot1Serialize.set(r,(e=>n({analysis1:e}))),e.slots.onSlot2Serialize.set(r,(e=>n({analysis2:e}))),e.slots.onSlot3Serialize.set(r,(e=>n({analysis3:e}))),e.slots.onSlot4Serialize.set(r,(e=>n({analysis4:e}))),e.slots.onSlot5Serialize.set(r,(e=>n({analysis5:e}))),e.slots.onSlot6Serialize.set(r,(e=>n({analysis6:e}))),e.slots.onSlot7Serialize.set(r,(e=>n({analysis7:e})))};e.onInstanceCreated.set(o("instance_created__2"),a)}}),[e]);return a?(0,d.jsx)(i.Modal,{title:"Analysis editor",isFullScreen:!0,onRequestClose:()=>l(!1),children:(0,d.jsx)("manager-provider",{slug:o("manager"),palette:c,children:(0,d.jsx)("registry-provider",{from:h,to:p,children:(0,d.jsx)("group-provider",{children:(0,d.jsxs)("file-provider",{thermal:e,ref:b,analysis1:m,analysis2:y,analysis3:v,analysis4:x,analysis5:u,analysis6:j,analysis7:g,children:[(0,d.jsxs)("div",{className:"modal-editor__container",children:[(0,d.jsxs)("div",{className:"modal-editor__canvas",children:[(0,d.jsx)("file-canvas",{}),(0,d.jsx)("div",{children:(0,d.jsx)("file-timeline",{})})]}),(0,d.jsxs)("div",{className:"modal-editor__details",children:[(0,d.jsx)("p",{children:"Use the tools to draw analyses on the image!"}),(0,d.jsx)("group-tool-buttons",{style:{paddingBottom:"1rem"}}),(0,d.jsx)("div",{style:{},children:(0,d.jsx)("file-analysis-table",{})}),(0,d.jsx)("div",{style:{height:300},children:(0,d.jsx)("file-analysis-graph",{style:{height:"300px"}})})]})]}),(0,d.jsx)("div",{style:{width:"100%",paddingTop:"1rem"},children:(0,d.jsx)(i.Button,{size:"compact",variant:"primary",style:{},onClick:()=>l(!1),children:"Close"})})]})})})})}):(0,d.jsx)(d.Fragment,{})},h=({setOpen:e})=>(0,d.jsx)(i.Button,{variant:"secondary",size:"compact",onClick:()=>e(!0),children:"Analysis editor"}),p=JSON.parse('{"UU":"thermal-display/file"}');(()=>{const e=r(document);document.head.appendChild(e)})(),(0,e.registerBlockType)(p.UU,{edit:function({attributes:e,setAttributes:t}){const n=(0,s.useMemo)((()=>Math.random().toString()));(0,s.useEffect)((()=>{const e=document.querySelectorAll("iframe");for(let a=0;a<e.length;a++){const s=e[a];if("editor-canvas"===s.name){const e=s.contentWindow.document;if(!o(e)){const a=r(e);e.head.appendChild(a)}}}}),[]);const{webcomponent:p,palette:m,thermal:y,opacity:v,visible:x,label:u,description:j,author:g,license:b,from:f,to:w,analysis1:C,analysis2:_,analysis3:S,analysis4:k,analysis5:B,analysis6:M,analysis7:O,speed:L,showabout:T,showhistogram:I,interactiveanalysis:U}=e,[z,E]=(0,s.useState)(y),[N,R]=(0,s.useState)(),{open:A,setOpen:P}=(()=>{const[e,a]=(0,s.useState)(!1);return{open:e,setOpen:a}})(),Z=()=>{E(y),t({thermal:y})},F=e=>{t({thermal:e}),E(void 0)},H=(0,s.useCallback)((e=>{e&&(e.onInstanceCreated.set(n+"___sth",(e=>{R(e),e.moutedBaseLayers&&e.unmountFromDom(),e.draw()})),e.registry.range.addListener(n,(e=>{t(e instanceof Object?e:{from:void 0,to:void 0})})))}),[]),V=(0,s.useCallback)((e=>{e&&e.registry.range.addListener(n,(e=>{t(e instanceof Object?e:{from:void 0,to:void 0})}))}),[]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.MediaUploadCheck,{children:(0,d.jsxs)(l.InspectorControls,{children:[(0,d.jsxs)(i.PanelBody,{title:"Thermal file",children:[(0,d.jsx)(c,{thermal:y,open:A,setOpen:P,attributes:e,setAttributes:t}),y&&(0,d.jsx)("manager-provider",{slug:n+"___preview",palette:m,autoclear:"true",children:(0,d.jsx)("registry-provider",{from:f,to:w,children:(0,d.jsx)("group-provider",{children:(0,d.jsx)("file-provider",{thermal:y,ref:H,children:(0,d.jsx)("file-canvas",{})})})})}),(0,d.jsx)("div",{style:{marginBottom:"1rem",marginTop:y?"1rem":"0"},children:(0,d.jsx)(l.MediaUpload,{allowedTypes:["application/octet-stream"],onSelect:e=>{F(e.url)},onClose:()=>{t({thermal:z})},render:({open:e})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.Button,{onClick:()=>{Z(),e()},variant:"primary",size:"compact",children:y?"Change file":"Upload or select a LRC file"}),y&&(0,d.jsx)(h,{setOpen:P})]})})})]}),(0,d.jsxs)(i.PanelBody,{title:"Visible file",initialOpen:!1,children:[(0,d.jsxs)("div",{children:[x&&(0,d.jsx)("img",{src:x}),(0,d.jsx)(l.MediaUpload,{allowedTypes:"image",onSelect:e=>{var a;a=e.url,t({visible:a})},render:({open:e})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.Button,{onClick:()=>{e()},variant:"primary",children:x?"Change file":"Upload or select a visible image"}),x&&(0,d.jsx)(i.Button,{variant:"secondary",onClick:()=>{t({visible:void 0,opacity:1})},children:"Remove the file"})]})})]}),x&&(0,d.jsx)("div",{style:{paddingTop:"1rem"},children:(0,d.jsx)(i.RangeControl,{__nextHasNoMarginBottom:!0,label:"IR image opacity",help:"If a visible file is provided, you can set the initial transparency of the thermal file.",value:v,onChange:e=>t({opacity:e}),min:0,max:1,step:.01})})]}),(0,d.jsxs)(i.PanelBody,{title:"Information",initialOpen:!1,children:[(0,d.jsx)(i.TextControl,{label:(0,a.__)("Author","thermal-display"),value:g||"",onChange:e=>t({author:e})}),(0,d.jsx)(i.TextControl,{label:(0,a.__)("License","thermal-display"),value:b||"",onChange:e=>t({license:e})}),(0,d.jsx)(i.TextControl,{label:(0,a.__)("Label","thermal-display"),help:"Label appears on the black button on top & left of the app.",value:u||"",onChange:e=>t({label:e})})]}),(0,d.jsx)(i.PanelBody,{title:"Display settings",initialOpen:!1,children:(0,d.jsx)("manager-provider",{slug:n+"___display",palette:m,autoclear:"true",children:(0,d.jsx)("registry-provider",{from:f,to:w,ref:V,children:(0,d.jsx)("group-provider",{children:(0,d.jsxs)("file-provider",{thermal:y,children:[(0,d.jsx)(i.SelectControl,{label:"Variant",value:p,options:[{label:"Advanced analyser",value:"thermal-file-analyser"},{label:"Simplified display",value:"thermal-file-app"}],onChange:e=>t({webcomponent:e})}),(0,d.jsx)(i.SelectControl,{label:"Palette",value:m,options:[{label:"Iron",value:"iron"},{label:"Jet",value:"jet"},{label:"Grayscale",value:"grayscale"}],onChange:e=>t({palette:e})}),(0,d.jsxs)("div",{style:{paddingBottom:"1rem"},children:[(0,d.jsx)("registry-range-slider",{}),(0,d.jsx)("registry-ticks-bar",{}),(0,d.jsx)("registry-range-display",{})]}),N&&N.timeline.isSequence&&(0,d.jsx)(i.SelectControl,{label:"Playback Speed",value:L,options:[{label:"0.5x",value:.5},{label:"1x",value:1},{label:"2x",value:2},{label:"3x",value:3},{label:"5x",value:5},{label:"10x",value:10}],onChange:e=>t({speed:e})}),(0,d.jsx)(i.CheckboxControl,{__nextHasNoMarginBottom:!0,checked:I,label:"Show histogram",hint:"Enable histogram display in the thermal scale?",onChange:e=>{t({showhistogram:e})}}),(0,d.jsx)(i.CheckboxControl,{__nextHasNoMarginBottom:!0,checked:T,label:"Show about button",help:"Display the button with application info?",onChange:e=>{t({showabout:e})}}),(0,d.jsx)(i.CheckboxControl,{__nextHasNoMarginBottom:!0,checked:U,label:"Interactive analysis",help:"Should the visitor be able to edit analysis?",onChange:e=>{t({interactiveanalysis:e})}})]})})})})})]})}),(0,d.jsx)("div",{...(0,l.useBlockProps)(),children:y?(0,d.jsx)(i.Tooltip,{text:"Click to edit",delay:300,hideOnClick:!1,children:(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"thermal__content-editor__container",children:[(0,d.jsxs)("div",{children:["thermal-file-app"===p&&(0,d.jsx)("thermal-file-app",{url:y,visible:x,palette:m,author:g,license:b,label:u,description:j,from:f,to:w,analysis1:C,analysis2:_,analysis3:S,analysis4:k,analysis5:B,analysis6:M,analysis7:O,style:{pointerEvents:"none"},speed:L,opacity:v,showabout:T,showhistogram:I,interactiveanalysis:U}),"thermal-file-analyser"===p&&(0,d.jsx)("thermal-file-analyser",{url:y,visible:x,palette:m,author:g,license:b,label:u,description:j,from:f,to:w,analysis1:C,analysis2:_,analysis3:S,analysis4:k,analysis5:B,analysis6:M,analysis7:O,style:{pointerEvents:"none"},speed:L,opacity:v,showabout:T,showhistogram:I,interactiveanalysis:U})]}),(0,d.jsx)("div",{className:"thermal__content-editor__wrapper",children:(0,d.jsx)("div",{children:"Edit parameters in the sidebar."})})]})})}):(0,d.jsx)(i.Placeholder,{label:"Thermal display",instructions:"An advanced thermal analysis app will display here once you provide a LRC file recorded by IR camera TIMI Edu.",icon:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 512 512",children:(0,d.jsx)("g",{children:(0,d.jsxs)("g",{id:"Vrstva_1",children:[(0,d.jsx)("path",{d:"M327.6,240c-5.4-4.7-13.6-7.1-24.6-7.1h-51.9v60.8h52c10.9,0,19-2.4,24.6-7.2s8.2-12.7,8.2-23.6-2.8-18.1-8.3-22.8Z"}),(0,d.jsx)("path",{d:"M252.4,0L18.9,90.7h-.6v421.3h466.9V90.7h.6L252.4,0ZM161.8,411.9h-47.5v-216h47.5v216ZM342.1,411.9c-2.8-7.9-4.5-16.2-4.9-24.6-.6-9.5-1.5-18.4-2.7-27.2-1.6-11.3-5-19.5-10.3-24.8s-13.8-7.9-25.7-7.9h-47.5v84.4h-47.5v-215.9h116.4c8.9-.1,17.8,1.5,26.2,4.7,7.4,2.9,14.2,7.3,19.9,12.8,5.5,5.4,9.8,11.8,12.7,18.9,3,7.3,4.5,15.2,4.4,23.1.3,11.5-2.4,22.9-7.9,33-6,9.9-15.3,17.3-26.2,21.2v.6c5.3,1.3,10.3,3.9,14.5,7.4,3.8,3.3,7,7.3,9.4,11.8,2.5,4.7,4.3,9.7,5.3,15,1.1,5.4,1.9,10.9,2.3,16.3.2,3.4.4,7.5.6,12.1s.6,9.2,1.1,14.2c.5,4.6,1.3,9.2,2.4,13.7.9,4,2.6,7.7,5,11.1h-47.6Z"})]})})}),children:(0,d.jsx)(l.MediaUpload,{allowedTypes:["application/octet-stream"],onSelect:e=>{F(e.url)},render:({open:e})=>(0,d.jsx)(i.Button,{onClick:()=>{Z(),e()},variant:"primary",children:y?"Change file":"Upload or select a LRC file"})})})})]})},icon:{src:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 512 512",children:(0,d.jsx)("g",{children:(0,d.jsxs)("g",{id:"Layer one",children:[(0,d.jsx)("path",{d:"M327.6,240c-5.4-4.7-13.6-7.1-24.6-7.1h-51.9v60.8h52c10.9,0,19-2.4,24.6-7.2s8.2-12.7,8.2-23.6-2.8-18.1-8.3-22.8Z"}),(0,d.jsx)("path",{d:"M252.4,0L18.9,90.7h-.6v421.3h466.9V90.7h.6L252.4,0ZM161.8,411.9h-47.5v-216h47.5v216ZM342.1,411.9c-2.8-7.9-4.5-16.2-4.9-24.6-.6-9.5-1.5-18.4-2.7-27.2-1.6-11.3-5-19.5-10.3-24.8s-13.8-7.9-25.7-7.9h-47.5v84.4h-47.5v-215.9h116.4c8.9-.1,17.8,1.5,26.2,4.7,7.4,2.9,14.2,7.3,19.9,12.8,5.5,5.4,9.8,11.8,12.7,18.9,3,7.3,4.5,15.2,4.4,23.1.3,11.5-2.4,22.9-7.9,33-6,9.9-15.3,17.3-26.2,21.2v.6c5.3,1.3,10.3,3.9,14.5,7.4,3.8,3.3,7,7.3,9.4,11.8,2.5,4.7,4.3,9.7,5.3,15,1.1,5.4,1.9,10.9,2.3,16.3.2,3.4.4,7.5.6,12.1s.6,9.2,1.1,14.2c.5,4.6,1.3,9.2,2.4,13.7.9,4,2.6,7.7,5,11.1h-47.6Z"})]})})})}})}},s={};function l(e){var i=s[e];if(void 0!==i)return i.exports;var t=s[e]={exports:{}};return a[e](t,t.exports,l),t.exports}l.m=a,e=[],l.O=(a,s,i,t)=>{if(!s){var n=1/0;for(c=0;c<e.length;c++){s=e[c][0],i=e[c][1],t=e[c][2];for(var r=!0,o=0;o<s.length;o++)(!1&t||n>=t)&&Object.keys(l.O).every((e=>l.O[e](s[o])))?s.splice(o--,1):(r=!1,t<n&&(n=t));if(r){e.splice(c--,1);var d=i();void 0!==d&&(a=d)}}return a}t=t||0;for(var c=e.length;c>0&&e[c-1][2]>t;c--)e[c]=e[c-1];e[c]=[s,i,t]},l.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={925:0,289:0};l.O.j=a=>0===e[a];var a=(a,s)=>{var i,t,n=s[0],r=s[1],o=s[2],d=0;if(n.some((a=>0!==e[a]))){for(i in r)l.o(r,i)&&(l.m[i]=r[i]);if(o)var c=o(l)}for(a&&a(s);d<n.length;d++)t=n[d],l.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return l.O(c)},s=self.webpackChunk_labir_wordpress=self.webpackChunk_labir_wordpress||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))})();var i=l.O(void 0,[289],(()=>l(854)));i=l.O(i)})();