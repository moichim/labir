(()=>{"use strict";var e,s={854:()=>{const e=window.wp.blocks,s=window.wp.i18n,t=window.wp.element,l=window.wp.blockEditor,a=window.wp.components,i="labir_embed_lib_dynamical",o=window.location.origin,n=e=>{const s=e.createElement("script");return s.type="module",s.id=i,s.innerHTML=`import '${o}/wp-content/plugins/thermal-display/assets/embed.esm.js'`,s},r=e=>!!e.getElementById(i),d=window.ReactJSXRuntime,c=({thermal:e,open:s,setOpen:l,attributes:i,setAttributes:o})=>{const n=(0,t.useMemo)((()=>(1e6*Math.random()).toFixed(0)),[]),r=(0,t.useCallback)((e=>`${n}__${e}`),[n]),{palette:c,from:p,to:h,analysis1:x,analysis2:m,analysis3:y,analysis4:j,analysis5:v,analysis6:f,analysis7:u}=i,g=(0,t.useCallback)((e=>{if(e){const s=e=>{e.slots.onSlot1Serialize.set(n,(e=>o({analysis1:e}))),e.slots.onSlot2Serialize.set(n,(e=>o({analysis2:e}))),e.slots.onSlot3Serialize.set(n,(e=>o({analysis3:e}))),e.slots.onSlot4Serialize.set(n,(e=>o({analysis4:e}))),e.slots.onSlot5Serialize.set(n,(e=>o({analysis5:e}))),e.slots.onSlot6Serialize.set(n,(e=>o({analysis6:e}))),e.slots.onSlot7Serialize.set(n,(e=>o({analysis7:e})))};e.onInstanceCreated.set(r("instance_created__2"),s)}}),[e]);return s?(0,d.jsx)(a.Modal,{title:"Analysis editor",isFullScreen:!0,onRequestClose:()=>l(!1),children:(0,d.jsx)("manager-provider",{slug:r("manager"),palette:c,children:(0,d.jsx)("registry-provider",{from:p,to:h,children:(0,d.jsx)("group-provider",{children:(0,d.jsxs)("file-provider",{thermal:e,ref:g,analysis1:x,analysis2:m,analysis3:y,analysis4:j,analysis5:v,analysis6:f,analysis7:u,children:[(0,d.jsxs)("div",{className:"modal-editor__container",children:[(0,d.jsxs)("div",{className:"modal-editor__canvas",children:[(0,d.jsx)("file-canvas",{}),(0,d.jsx)("div",{children:(0,d.jsx)("file-timeline",{})})]}),(0,d.jsxs)("div",{className:"modal-editor__details",children:[(0,d.jsx)("p",{children:"Use the tools to draw analyses on the image!"}),(0,d.jsx)("group-tool-buttons",{style:{paddingBottom:"1rem"}}),(0,d.jsx)("div",{style:{},children:(0,d.jsx)("file-analysis-table",{})}),(0,d.jsx)("div",{style:{height:300},children:(0,d.jsx)("file-analysis-graph",{style:{height:"300px"}})})]})]}),(0,d.jsx)("div",{style:{width:"100%",paddingTop:"1rem"},children:(0,d.jsx)(a.Button,{size:"compact",variant:"primary",style:{},onClick:()=>l(!1),children:"Close"})})]})})})})}):(0,d.jsx)(d.Fragment,{})},p=({setOpen:e})=>(0,d.jsx)(a.Button,{variant:"secondary",size:"compact",onClick:()=>e(!0),children:"Analysis editor"}),h=JSON.parse('{"UU":"thermal-display/file"}');(()=>{const e=n(document);document.head.appendChild(e)})(),(0,e.registerBlockType)(h.UU,{edit:function({attributes:e,setAttributes:i}){const o=(0,t.useMemo)((()=>Math.random().toString()));(0,t.useEffect)((()=>{const e=document.querySelectorAll("iframe");for(let s=0;s<e.length;s++){const t=e[s];if("editor-canvas"===t.name){const e=t.contentWindow.document;if(!r(e)){const s=n(e);e.head.appendChild(s)}}}}),[]);const{webcomponent:h,palette:x,thermal:m,opacity:y,visible:j,label:v,description:f,author:u,license:g,from:b,to:w,analysis1:_,analysis2:k,analysis3:C,analysis4:S,analysis5:O,analysis6:B,analysis7:M,speed:N,showabout:U,showhistogram:T,interactiveanalysis:z}=e,[I,E]=(0,t.useState)(m),[L,P]=(0,t.useState)(),{open:R,setOpen:A}=(()=>{const[e,s]=(0,t.useState)(!1);return{open:e,setOpen:s}})(),F=()=>{E(m),i({thermal:m})},G=e=>{i({thermal:e}),E(void 0)},H=(0,t.useCallback)((e=>{e&&(e.onInstanceCreated.set(o+"___sth",(e=>{P(e),e.moutedBaseLayers&&e.unmountFromDom(),e.draw()})),e.registry.range.addListener(o,(e=>{i(e instanceof Object?e:{from:void 0,to:void 0})})))}),[]),V=(0,t.useCallback)((e=>{e&&e.registry.range.addListener(o,(e=>{i(e instanceof Object?e:{from:void 0,to:void 0})}))}),[]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.MediaUploadCheck,{children:(0,d.jsxs)(l.InspectorControls,{children:[(0,d.jsxs)(a.PanelBody,{title:"Thermal file",children:[(0,d.jsx)(c,{thermal:m,open:R,setOpen:A,attributes:e,setAttributes:i}),m&&(0,d.jsx)("manager-provider",{slug:o+"___preview",palette:x,autoclear:"true",children:(0,d.jsx)("registry-provider",{from:b,to:w,children:(0,d.jsx)("group-provider",{children:(0,d.jsx)("file-provider",{thermal:m,ref:H,children:(0,d.jsx)("file-canvas",{})})})})}),(0,d.jsx)("div",{style:{marginBottom:"1rem",marginTop:m?"1rem":"0"},children:(0,d.jsx)(l.MediaUpload,{allowedTypes:["application/octet-stream"],onSelect:e=>{G(e.url)},onClose:()=>{i({thermal:I})},render:({open:e})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.Button,{onClick:()=>{F(),e()},variant:"primary",size:"compact",children:m?"Change file":"Upload or select a LRC file"}),m&&(0,d.jsx)(p,{setOpen:A})]})})})]}),(0,d.jsxs)(a.PanelBody,{title:"Visible file",initialOpen:!1,children:[(0,d.jsxs)("div",{children:[j&&(0,d.jsx)("img",{src:j}),(0,d.jsx)(l.MediaUpload,{allowedTypes:"image",onSelect:e=>{var s;s=e.url,i({visible:s})},render:({open:e})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.Button,{onClick:()=>{e()},variant:"primary",children:j?"Change file":"Upload or select a visible image"}),j&&(0,d.jsx)(a.Button,{variant:"secondary",onClick:()=>{i({visible:void 0,opacity:1})},children:"Remove the file"})]})})]}),j&&(0,d.jsx)("div",{style:{paddingTop:"1rem"},children:(0,d.jsx)(a.RangeControl,{__nextHasNoMarginBottom:!0,label:"IR image opacity",help:"If a visible file is provided, you can set the initial transparency of the thermal file.",value:y,onChange:e=>i({opacity:e}),min:0,max:1,step:.01})})]}),(0,d.jsxs)(a.PanelBody,{title:"Information",initialOpen:!1,children:[(0,d.jsx)(a.TextControl,{label:(0,s.__)("Author","thermal-display"),value:u||"",onChange:e=>i({author:e})}),(0,d.jsx)(a.TextControl,{label:(0,s.__)("License","thermal-display"),value:g||"",onChange:e=>i({license:e})}),(0,d.jsx)(a.TextControl,{label:(0,s.__)("Label","thermal-display"),help:"Label appears on the black button on top & left of the app.",value:v||"",onChange:e=>i({label:e})})]}),(0,d.jsx)(a.PanelBody,{title:"Display settings",initialOpen:!1,children:(0,d.jsx)("manager-provider",{slug:o+"___display",palette:x,autoclear:"true",children:(0,d.jsx)("registry-provider",{from:b,to:w,ref:V,children:(0,d.jsx)("group-provider",{children:(0,d.jsxs)("file-provider",{thermal:m,children:[(0,d.jsx)(a.SelectControl,{label:"Variant",value:h,options:[{label:"Advanced analyser",value:"thermal-file-analyser"},{label:"Simplified display",value:"thermal-file-app"}],onChange:e=>i({webcomponent:e})}),(0,d.jsx)(a.SelectControl,{label:"Palette",value:x,options:[{label:"Iron",value:"iron"},{label:"Jet",value:"jet"},{label:"Grayscale",value:"grayscale"}],onChange:e=>i({palette:e})}),(0,d.jsxs)("div",{style:{paddingBottom:"1rem"},children:[(0,d.jsx)("registry-range-slider",{}),(0,d.jsx)("registry-ticks-bar",{}),(0,d.jsx)("registry-range-display",{})]}),L&&L.timeline.isSequence&&(0,d.jsx)(a.SelectControl,{label:"Playback Speed",value:N,options:[{label:"0.5x",value:.5},{label:"1x",value:1},{label:"2x",value:2},{label:"3x",value:3},{label:"5x",value:5},{label:"10x",value:10}],onChange:e=>i({speed:e})}),(0,d.jsx)(a.CheckboxControl,{__nextHasNoMarginBottom:!0,checked:T,label:"Show histogram",hint:"Enable histogram display in the thermal scale?",onChange:e=>{i({showhistogram:e})}}),(0,d.jsx)(a.CheckboxControl,{__nextHasNoMarginBottom:!0,checked:U,label:"Show about button",help:"Display the button with application info?",onChange:e=>{i({showabout:e})}}),(0,d.jsx)(a.CheckboxControl,{__nextHasNoMarginBottom:!0,checked:z,label:"Interactive analysis",help:"Should the visitor be able to edit analysis?",onChange:e=>{i({interactiveanalysis:e})}})]})})})})})]})}),(0,d.jsx)("div",{...(0,l.useBlockProps)(),children:m?(0,d.jsx)(a.Tooltip,{text:"Click to edit",delay:300,hideOnClick:!1,children:(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"thermal__content-editor__container",children:[(0,d.jsxs)("div",{children:["thermal-file-app"===h&&(0,d.jsx)("thermal-file-app",{url:m,visible:j,palette:x,author:u,license:g,label:v,description:f,from:b,to:w,analysis1:_,analysis2:k,analysis3:C,analysis4:S,analysis5:O,analysis6:B,analysis7:M,style:{pointerEvents:"none"},speed:N,opacity:y,showabout:U,showhistogram:T,interactiveanalysis:z}),"thermal-file-analyser"===h&&(0,d.jsx)("thermal-file-analyser",{url:m,visible:j,palette:x,author:u,license:g,label:v,description:f,from:b,to:w,analysis1:_,analysis2:k,analysis3:C,analysis4:S,analysis5:O,analysis6:B,analysis7:M,style:{pointerEvents:"none"},speed:N,opacity:y,showabout:U,showhistogram:T,interactiveanalysis:z})]}),(0,d.jsx)("div",{className:"thermal__content-editor__wrapper",children:(0,d.jsx)("div",{children:"Edit parameters in the sidebar."})})]})})}):(0,d.jsx)(a.Placeholder,{label:"IR image",instructions:"Upload or select a thermal file to see an advanced analyser application here.",icon:(0,d.jsxs)("svg",{id:"Vrstva_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[(0,d.jsxs)("defs",{children:[(0,d.jsxs)("linearGradient",{id:"Nepojmenovaný_přechod_12","data-name":"Nepojmenovaný přechod 12",x1:"452.4",y1:"7.95",x2:"-8.33",y2:"364.12",gradientUnits:"userSpaceOnUse",children:[(0,d.jsx)("stop",{offset:"0","stop-color":"#eae200"}),(0,d.jsx)("stop",{offset:".34","stop-color":"#d42900"}),(0,d.jsx)("stop",{offset:"1","stop-color":"#0007bf"})]}),(0,d.jsxs)("linearGradient",{id:"Nepojmenovaný_přechod_13","data-name":"Nepojmenovaný přechod 13",x1:"25.41",y1:"59.57",x2:"388.25",y2:"59.57",gradientUnits:"userSpaceOnUse",children:[(0,d.jsx)("stop",{offset:"0","stop-color":"#0007bf"}),(0,d.jsx)("stop",{offset:".66","stop-color":"#d42900"}),(0,d.jsx)("stop",{offset:"1","stop-color":"#eae200"})]})]}),(0,d.jsx)("rect",{x:"1",width:"511",height:"345",rx:"18.11",ry:"18.11"}),(0,d.jsx)("rect",{x:"25",y:"80.12",width:"362",height:"236.61",rx:"12.96",ry:"12.96",fill:"url(#Nepojmenovaný_přechod_12)"}),(0,d.jsx)("line",{x1:"31.36",y1:"30",x2:"100.3",y2:"30",fill:"none",stroke:"#818080","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"11.89"}),(0,d.jsx)("line",{x1:"405.91",y1:"88.55",x2:"474.85",y2:"88.55",fill:"none",stroke:"#818080","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"11.89"}),(0,d.jsx)("line",{x1:"405.91",y1:"106.93",x2:"451.36",y2:"106.93",fill:"none",stroke:"#818080","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"11.89"}),(0,d.jsxs)("g",{children:[(0,d.jsx)("path",{d:"M483.03,512v-171.78s.02-.09.03-.13c1.15-6.15-2.24-12.25-8.07-14.51l-96.57-37.53c-1.51-.59-3.11-.88-4.71-.88h0c-1.6,0-3.19.29-4.71.88l-95.38,37.05c-5.62,1.44-9.77,6.53-9.77,12.6v174.31h219.17Z",fill:"#fff"}),(0,d.jsx)("polyline",{points:"373.72 300.17 470.28 337.69 470.03 337.69 470.03 512 276.86 512 276.86 337.69 277.11 337.69 373.72 300.17"}),(0,d.jsx)("path",{d:"M353.12,468.3h23.02v-40.9h23.02c5.77,0,9.89,1.26,12.45,3.83,2.57,2.57,4.22,6.54,4.99,12.02.58,4.26,1.02,8.58,1.31,13.18.19,4.05,1.01,8.06,2.36,11.87h-.03l.05.05s-.01-.03-.02-.05h23.03c-1.16-1.65-1.99-3.44-2.42-5.38-.53-2.18-.92-4.41-1.16-6.64-.24-2.42-.44-4.65-.53-6.88s-.19-4.22-.29-5.86c-.19-2.62-.58-5.28-1.11-7.9-.48-2.57-1.36-4.99-2.57-7.27-1.16-2.18-2.71-4.12-4.55-5.72-2.04-1.7-4.46-2.96-7.03-3.59v-.29c5.28-1.89,9.79-5.48,12.7-10.27,2.67-4.89,3.97-10.42,3.83-15.99.05-3.83-.68-7.66-2.13-11.19-1.41-3.44-3.49-6.54-6.15-9.16-2.76-2.67-6.06-4.8-9.64-6.2-3.95-1.51-8.13-2.28-12.31-2.28-.13,0-.25,0-.38,0h-56.4v104.62",fill:"#fff"}),(0,d.jsx)("polyline",{points:"309.89 468.35 332.91 468.35 332.91 363.69 309.89 363.69 309.89 468.35",fill:"#fff"}),(0,d.jsxs)("g",{children:[(0,d.jsx)("path",{d:"M413.25,385.05c-2.62-2.28-6.59-3.44-11.92-3.44h-25.15v29.46h25.2c5.28,0,9.21-1.16,11.92-3.49,2.71-2.33,3.97-6.15,3.97-11.44s-1.36-8.77-4.02-11.05v-.05Z"}),(0,d.jsx)("path",{d:"M401.33,381.61c5.33,0,9.3,1.16,11.92,3.44v.05c2.67,2.28,4.02,5.77,4.02,11.05s-1.26,9.11-3.97,11.44c-2.71,2.33-6.64,3.49-11.92,3.49h-25.2v-29.46h25.15"})]})]}),(0,d.jsx)("line",{x1:"31.36",y1:"59.57",x2:"382.3",y2:"59.57",fill:"none",stroke:"url(#Nepojmenovaný_přechod_13)","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"11.89"})]}),children:(0,d.jsx)(l.MediaUpload,{allowedTypes:["application/octet-stream"],onSelect:e=>{G(e.url)},render:({open:e})=>(0,d.jsx)(a.Button,{onClick:()=>{F(),e()},variant:"primary",children:m?"Change file":"Upload or select a LRC file"})})})})]})},icon:{src:(0,d.jsxs)("svg",{id:"Vrstva_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[(0,d.jsxs)("defs",{children:[(0,d.jsxs)("linearGradient",{id:"Nepojmenovaný_přechod_12","data-name":"Nepojmenovaný přechod 12",x1:"452.4",y1:"7.95",x2:"-8.33",y2:"364.12",gradientUnits:"userSpaceOnUse",children:[(0,d.jsx)("stop",{offset:"0","stop-color":"#eae200"}),(0,d.jsx)("stop",{offset:".34","stop-color":"#d42900"}),(0,d.jsx)("stop",{offset:"1","stop-color":"#0007bf"})]}),(0,d.jsxs)("linearGradient",{id:"Nepojmenovaný_přechod_13","data-name":"Nepojmenovaný přechod 13",x1:"25.41",y1:"59.57",x2:"388.25",y2:"59.57",gradientUnits:"userSpaceOnUse",children:[(0,d.jsx)("stop",{offset:"0","stop-color":"#0007bf"}),(0,d.jsx)("stop",{offset:".66","stop-color":"#d42900"}),(0,d.jsx)("stop",{offset:"1","stop-color":"#eae200"})]})]}),(0,d.jsx)("rect",{x:"1",width:"511",height:"345",rx:"18.11",ry:"18.11"}),(0,d.jsx)("rect",{x:"25",y:"80.12",width:"362",height:"236.61",rx:"12.96",ry:"12.96",fill:"url(#Nepojmenovaný_přechod_12)"}),(0,d.jsx)("line",{x1:"31.36",y1:"30",x2:"100.3",y2:"30",fill:"none",stroke:"#818080","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"11.89"}),(0,d.jsx)("line",{x1:"405.91",y1:"88.55",x2:"474.85",y2:"88.55",fill:"none",stroke:"#818080","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"11.89"}),(0,d.jsx)("line",{x1:"405.91",y1:"106.93",x2:"451.36",y2:"106.93",fill:"none",stroke:"#818080","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"11.89"}),(0,d.jsxs)("g",{children:[(0,d.jsx)("path",{d:"M483.03,512v-171.78s.02-.09.03-.13c1.15-6.15-2.24-12.25-8.07-14.51l-96.57-37.53c-1.51-.59-3.11-.88-4.71-.88h0c-1.6,0-3.19.29-4.71.88l-95.38,37.05c-5.62,1.44-9.77,6.53-9.77,12.6v174.31h219.17Z",fill:"#fff"}),(0,d.jsx)("polyline",{points:"373.72 300.17 470.28 337.69 470.03 337.69 470.03 512 276.86 512 276.86 337.69 277.11 337.69 373.72 300.17"}),(0,d.jsx)("path",{d:"M353.12,468.3h23.02v-40.9h23.02c5.77,0,9.89,1.26,12.45,3.83,2.57,2.57,4.22,6.54,4.99,12.02.58,4.26,1.02,8.58,1.31,13.18.19,4.05,1.01,8.06,2.36,11.87h-.03l.05.05s-.01-.03-.02-.05h23.03c-1.16-1.65-1.99-3.44-2.42-5.38-.53-2.18-.92-4.41-1.16-6.64-.24-2.42-.44-4.65-.53-6.88s-.19-4.22-.29-5.86c-.19-2.62-.58-5.28-1.11-7.9-.48-2.57-1.36-4.99-2.57-7.27-1.16-2.18-2.71-4.12-4.55-5.72-2.04-1.7-4.46-2.96-7.03-3.59v-.29c5.28-1.89,9.79-5.48,12.7-10.27,2.67-4.89,3.97-10.42,3.83-15.99.05-3.83-.68-7.66-2.13-11.19-1.41-3.44-3.49-6.54-6.15-9.16-2.76-2.67-6.06-4.8-9.64-6.2-3.95-1.51-8.13-2.28-12.31-2.28-.13,0-.25,0-.38,0h-56.4v104.62",fill:"#fff"}),(0,d.jsx)("polyline",{points:"309.89 468.35 332.91 468.35 332.91 363.69 309.89 363.69 309.89 468.35",fill:"#fff"}),(0,d.jsxs)("g",{children:[(0,d.jsx)("path",{d:"M413.25,385.05c-2.62-2.28-6.59-3.44-11.92-3.44h-25.15v29.46h25.2c5.28,0,9.21-1.16,11.92-3.49,2.71-2.33,3.97-6.15,3.97-11.44s-1.36-8.77-4.02-11.05v-.05Z"}),(0,d.jsx)("path",{d:"M401.33,381.61c5.33,0,9.3,1.16,11.92,3.44v.05c2.67,2.28,4.02,5.77,4.02,11.05s-1.26,9.11-3.97,11.44c-2.71,2.33-6.64,3.49-11.92,3.49h-25.2v-29.46h25.15"})]})]}),(0,d.jsx)("line",{x1:"31.36",y1:"59.57",x2:"382.3",y2:"59.57",fill:"none",stroke:"url(#Nepojmenovaný_přechod_13)","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"11.89"})]})}})}},t={};function l(e){var a=t[e];if(void 0!==a)return a.exports;var i=t[e]={exports:{}};return s[e](i,i.exports,l),i.exports}l.m=s,e=[],l.O=(s,t,a,i)=>{if(!t){var o=1/0;for(c=0;c<e.length;c++){t=e[c][0],a=e[c][1],i=e[c][2];for(var n=!0,r=0;r<t.length;r++)(!1&i||o>=i)&&Object.keys(l.O).every((e=>l.O[e](t[r])))?t.splice(r--,1):(n=!1,i<o&&(o=i));if(n){e.splice(c--,1);var d=a();void 0!==d&&(s=d)}}return s}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[t,a,i]},l.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={925:0,289:0};l.O.j=s=>0===e[s];var s=(s,t)=>{var a,i,o=t[0],n=t[1],r=t[2],d=0;if(o.some((s=>0!==e[s]))){for(a in n)l.o(n,a)&&(l.m[a]=n[a]);if(r)var c=r(l)}for(s&&s(t);d<o.length;d++)i=o[d],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(c)},t=self.webpackChunkthermal_display=self.webpackChunkthermal_display||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})();var a=l.O(void 0,[289],(()=>l(854)));a=l.O(a)})();