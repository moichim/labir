(()=>{"use strict";var e,s={854:()=>{const e=window.wp.blocks,s=window.wp.i18n,a=window.wp.element,l=window.wp.blockEditor,t=window.wp.components,i="labir_embed_lib_dynamical",n=(window.location.origin,e=>{const s=e.createElement("script");return s.type="module",s.id=i,s.innerHTML="import 'https://cdn.jsdelivr.net/npm/@labir/embed@1.2.49/+esm'",s}),r=e=>!!e.getElementById(i),o=window.ReactJSXRuntime,d=({thermal:e,open:s,setOpen:l,attributes:i,setAttributes:n})=>{const r=(0,a.useMemo)((()=>(1e6*Math.random()).toFixed(0)),[]),d=(0,a.useCallback)((e=>`${r}__${e}`),[r]),{palette:c,from:p,to:h,analysis1:m,analysis2:v,analysis3:y,analysis4:x,analysis5:u,analysis6:j,analysis7:g}=i,b=(0,a.useCallback)((e=>{if(e){const s=e=>{e.slots.onSlot1Serialize.set(r,(e=>n({analysis1:e}))),e.slots.onSlot2Serialize.set(r,(e=>n({analysis2:e}))),e.slots.onSlot3Serialize.set(r,(e=>n({analysis3:e}))),e.slots.onSlot4Serialize.set(r,(e=>n({analysis4:e}))),e.slots.onSlot5Serialize.set(r,(e=>n({analysis5:e}))),e.slots.onSlot6Serialize.set(r,(e=>n({analysis6:e}))),e.slots.onSlot7Serialize.set(r,(e=>n({analysis7:e})))};e.onInstanceCreated.set(d("instance_created__2"),s)}}),[e]);return s?(0,o.jsx)(t.Modal,{title:"Analysis editor",isFullScreen:!0,onRequestClose:()=>l(!1),children:(0,o.jsx)("manager-provider",{slug:d("manager"),palette:c,children:(0,o.jsx)("registry-provider",{from:p,to:h,children:(0,o.jsx)("group-provider",{children:(0,o.jsxs)("file-provider",{thermal:e,ref:b,analysis1:m,analysis2:v,analysis3:y,analysis4:x,analysis5:u,analysis6:j,analysis7:g,children:[(0,o.jsxs)("div",{className:"modal-editor__container",children:[(0,o.jsx)("div",{className:"modal-editor__tools",children:(0,o.jsx)("group-tool-buttons",{})}),(0,o.jsxs)("div",{className:"modal-editor__canvas",children:[(0,o.jsx)("file-canvas",{}),(0,o.jsx)("div",{children:(0,o.jsx)("file-timeline",{})})]}),(0,o.jsxs)("div",{className:"modal-editor__details",children:[(0,o.jsx)("div",{style:{minHeight:"50%"},children:(0,o.jsx)("file-analysis-table",{})}),(0,o.jsx)("div",{style:{height:300},children:(0,o.jsx)("file-analysis-graph",{style:{height:"300px"}})})]})]}),(0,o.jsx)("div",{style:{width:"100%"},children:(0,o.jsx)(t.Button,{size:"compact",variant:"primary",style:{float:"right"},onClick:()=>l(!1),children:"Close"})})]})})})})}):(0,o.jsx)(o.Fragment,{})},c=({setOpen:e})=>(0,o.jsx)(t.Button,{variant:"secondary",size:"compact",onClick:()=>e(!0),children:"Analysis editor"}),p=JSON.parse('{"UU":"thermal-display/file"}');(()=>{const e=n(document);document.head.appendChild(e)})(),(0,e.registerBlockType)(p.UU,{edit:function({attributes:e,setAttributes:i}){const p=(0,a.useMemo)((()=>Math.random().toString()));(0,a.useEffect)((()=>{const e=document.querySelectorAll("iframe");for(let s=0;s<e.length;s++){const a=e[s];if("editor-canvas"===a.name){const e=a.contentWindow.document;if(!r(e)){const s=n(e);e.head.appendChild(s)}}}}),[]);const{webcomponent:h,palette:m,thermal:v,label:y,description:x,author:u,license:j,from:g,to:b,analysis1:f,analysis2:w,analysis3:_,analysis4:C,analysis5:S,analysis6:k,analysis7:O,speed:M}=e,[B,L]=(0,a.useState)(v),[T,z]=(0,a.useState)(),{open:A,setOpen:E}=(()=>{const[e,s]=(0,a.useState)(!1);return{open:e,setOpen:s}})(),I=()=>{L(v),i({thermal:v})},U=e=>{i({thermal:e}),L(void 0)},P=(0,a.useCallback)((e=>{e&&(e.onInstanceCreated.set(p+"___sth",(e=>{z(e),e.moutedBaseLayers&&e.unmountFromDom(),e.draw()})),e.registry.range.addListener(p,(e=>{i(e instanceof Object?e:{from:void 0,to:void 0})})))}),[]),Z=(0,a.useCallback)((e=>{e&&e.registry.range.addListener(p,(e=>{i(e instanceof Object?e:{from:void 0,to:void 0})}))}),[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.MediaUploadCheck,{children:(0,o.jsxs)(l.InspectorControls,{children:[(0,o.jsxs)(t.PanelBody,{title:"Thermal file",children:[(0,o.jsx)(d,{thermal:v,open:A,setOpen:E,attributes:e,setAttributes:i}),v&&(0,o.jsx)("manager-provider",{slug:p+"___preview",palette:m,children:(0,o.jsx)("registry-provider",{from:g,to:b,children:(0,o.jsx)("group-provider",{children:(0,o.jsx)("file-provider",{thermal:v,ref:P,children:(0,o.jsx)("file-canvas",{})})})})}),(0,o.jsx)("div",{style:{marginBottom:"1rem",marginTop:v?"1rem":"0"},children:(0,o.jsx)(l.MediaUpload,{allowedTypes:["application/octet-stream"],onSelect:e=>{U(e.url)},onClose:()=>{i({thermal:B})},render:({open:e})=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.Button,{onClick:()=>{I(),e()},variant:"primary",size:"compact",children:v?"Change file":"Upload or select a LRC file"}),v&&(0,o.jsx)(c,{setOpen:E})]})})})]}),(0,o.jsxs)(t.PanelBody,{title:"Information",initialOpen:!1,children:[(0,o.jsx)(t.TextControl,{label:(0,s.__)("Author","thermal-display"),value:u||"",onChange:e=>i({author:e})}),(0,o.jsx)(t.TextControl,{label:(0,s.__)("License","thermal-display"),value:j||"",onChange:e=>i({license:e})}),(0,o.jsx)(t.TextControl,{label:(0,s.__)("Label","thermal-display"),help:"Label appears on the black button on top & left of the app.",value:y||"",onChange:e=>i({label:e})})]}),(0,o.jsx)(t.PanelBody,{title:"Display settings",initialOpen:!0,children:(0,o.jsx)("manager-provider",{slug:p+"___display",palette:m,children:(0,o.jsx)("registry-provider",{from:g,to:b,ref:Z,children:(0,o.jsx)("group-provider",{children:(0,o.jsxs)("file-provider",{thermal:v,children:[(0,o.jsx)(t.SelectControl,{label:"Variant",value:h,options:[{label:"Advanced analyser",value:"thermal-desktop-app"},{label:"Simplified display",value:"thermal-file-app"}],onChange:e=>i({webcomponent:e})}),(0,o.jsx)(t.SelectControl,{label:"Palette",value:m,options:[{label:"Iron",value:"iron"},{label:"Jet",value:"jet"},{label:"Grayscale",value:"grayscale"}],onChange:e=>i({palette:e})}),(0,o.jsxs)("div",{style:{paddingBottom:"1rem"},children:[(0,o.jsx)("registry-range-slider",{}),(0,o.jsx)("registry-ticks-bar",{}),(0,o.jsx)("registry-range-display",{})]}),T&&T.timeline.isSequence&&(0,o.jsx)(t.SelectControl,{label:"Playback Speed",value:M,options:[{label:"0.5x",value:.5},{label:"1x",value:1},{label:"2x",value:2},{label:"3x",value:3},{label:"5x",value:5},{label:"10x",value:10}],onChange:e=>i({speed:e})})]})})})})})]})}),(0,o.jsx)("div",{...(0,l.useBlockProps)(),children:v?(0,o.jsx)(t.Tooltip,{text:"Click to edit",delay:300,hideOnClick:!1,children:(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"thermal__content-editor__container",children:[(0,o.jsxs)("div",{children:["thermal-file-app"===h&&(0,o.jsx)("thermal-file-app",{url:v,palette:m,author:u,license:j,label:y,description:x,from:g,to:b,analysis1:f,analysis2:w,analysis3:_,analysis4:C,analysis5:S,analysis6:k,analysis7:O,style:{pointerEvents:"none"},speed:M}),"thermal-desktop-app"===h&&(0,o.jsx)("thermal-desktop-app",{url:v,palette:m,author:u,license:j,label:y,description:x,from:g,to:b,analysis1:f,analysis2:w,analysis3:_,analysis4:C,analysis5:S,analysis6:k,analysis7:O,style:{pointerEvents:"none"},speed:M})]}),(0,o.jsx)("div",{className:"thermal__content-editor__wrapper",children:(0,o.jsx)("div",{children:"Edit parameters in the sidebar."})})]})})}):(0,o.jsx)(t.Placeholder,{label:"Thermal display",instructions:"An advanced thermal analysis app will display here once you provide a LRC file recorded by IR camera TIMI Edu.",icon:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 512 512",children:(0,o.jsx)("g",{children:(0,o.jsxs)("g",{id:"Vrstva_1",children:[(0,o.jsx)("path",{d:"M327.6,240c-5.4-4.7-13.6-7.1-24.6-7.1h-51.9v60.8h52c10.9,0,19-2.4,24.6-7.2s8.2-12.7,8.2-23.6-2.8-18.1-8.3-22.8Z"}),(0,o.jsx)("path",{d:"M252.4,0L18.9,90.7h-.6v421.3h466.9V90.7h.6L252.4,0ZM161.8,411.9h-47.5v-216h47.5v216ZM342.1,411.9c-2.8-7.9-4.5-16.2-4.9-24.6-.6-9.5-1.5-18.4-2.7-27.2-1.6-11.3-5-19.5-10.3-24.8s-13.8-7.9-25.7-7.9h-47.5v84.4h-47.5v-215.9h116.4c8.9-.1,17.8,1.5,26.2,4.7,7.4,2.9,14.2,7.3,19.9,12.8,5.5,5.4,9.8,11.8,12.7,18.9,3,7.3,4.5,15.2,4.4,23.1.3,11.5-2.4,22.9-7.9,33-6,9.9-15.3,17.3-26.2,21.2v.6c5.3,1.3,10.3,3.9,14.5,7.4,3.8,3.3,7,7.3,9.4,11.8,2.5,4.7,4.3,9.7,5.3,15,1.1,5.4,1.9,10.9,2.3,16.3.2,3.4.4,7.5.6,12.1s.6,9.2,1.1,14.2c.5,4.6,1.3,9.2,2.4,13.7.9,4,2.6,7.7,5,11.1h-47.6Z"})]})})}),children:(0,o.jsx)(l.MediaUpload,{allowedTypes:["application/octet-stream"],onSelect:e=>{U(e.url)},render:({open:e})=>(0,o.jsx)(t.Button,{onClick:()=>{I(),e()},variant:"primary",children:v?"Change file":"Upload or select a LRC file"})})})})]})},icon:{src:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 512 512",children:(0,o.jsx)("g",{children:(0,o.jsxs)("g",{id:"Layer one",children:[(0,o.jsx)("path",{d:"M327.6,240c-5.4-4.7-13.6-7.1-24.6-7.1h-51.9v60.8h52c10.9,0,19-2.4,24.6-7.2s8.2-12.7,8.2-23.6-2.8-18.1-8.3-22.8Z"}),(0,o.jsx)("path",{d:"M252.4,0L18.9,90.7h-.6v421.3h466.9V90.7h.6L252.4,0ZM161.8,411.9h-47.5v-216h47.5v216ZM342.1,411.9c-2.8-7.9-4.5-16.2-4.9-24.6-.6-9.5-1.5-18.4-2.7-27.2-1.6-11.3-5-19.5-10.3-24.8s-13.8-7.9-25.7-7.9h-47.5v84.4h-47.5v-215.9h116.4c8.9-.1,17.8,1.5,26.2,4.7,7.4,2.9,14.2,7.3,19.9,12.8,5.5,5.4,9.8,11.8,12.7,18.9,3,7.3,4.5,15.2,4.4,23.1.3,11.5-2.4,22.9-7.9,33-6,9.9-15.3,17.3-26.2,21.2v.6c5.3,1.3,10.3,3.9,14.5,7.4,3.8,3.3,7,7.3,9.4,11.8,2.5,4.7,4.3,9.7,5.3,15,1.1,5.4,1.9,10.9,2.3,16.3.2,3.4.4,7.5.6,12.1s.6,9.2,1.1,14.2c.5,4.6,1.3,9.2,2.4,13.7.9,4,2.6,7.7,5,11.1h-47.6Z"})]})})})}})}},a={};function l(e){var t=a[e];if(void 0!==t)return t.exports;var i=a[e]={exports:{}};return s[e](i,i.exports,l),i.exports}l.m=s,e=[],l.O=(s,a,t,i)=>{if(!a){var n=1/0;for(c=0;c<e.length;c++){a=e[c][0],t=e[c][1],i=e[c][2];for(var r=!0,o=0;o<a.length;o++)(!1&i||n>=i)&&Object.keys(l.O).every((e=>l.O[e](a[o])))?a.splice(o--,1):(r=!1,i<n&&(n=i));if(r){e.splice(c--,1);var d=t();void 0!==d&&(s=d)}}return s}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,t,i]},l.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={925:0,289:0};l.O.j=s=>0===e[s];var s=(s,a)=>{var t,i,n=a[0],r=a[1],o=a[2],d=0;if(n.some((s=>0!==e[s]))){for(t in r)l.o(r,t)&&(l.m[t]=r[t]);if(o)var c=o(l)}for(s&&s(a);d<n.length;d++)i=n[d],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(c)},a=self.webpackChunk_labir_wordpress=self.webpackChunk_labir_wordpress||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))})();var t=l.O(void 0,[289],(()=>l(854)));t=l.O(t)})();