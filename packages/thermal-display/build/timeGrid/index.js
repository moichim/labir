(()=>{"use strict";var e,l={184:()=>{const e=window.wp.blocks,l=window.wp.blockEditor,t=window.wp.components,n=window.wp.element,o="labir_embed_lib_dynamical",a=window.location.origin,s=e=>{const l=e.createElement("script");return l.type="module",l.id=o,l.innerHTML=`import '${a}/wp-content/plugins/thermal-display/assets/embed.esm.js'`,l},r=e=>!!e.getElementById(o),i=window.ReactJSXRuntime,c=({skin:e,lines:l,corners:n,setter:o})=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.SelectControl,{label:"Skin",value:e,options:[{label:"Default",value:"default"},{label:"Dark",value:"dark"},{label:"Dark HC",value:"darkhc"},{label:"Solarized",value:"solarized"},{label:"System",value:"system"}],onChange:e=>o({skin:e})}),(0,i.jsx)(t.SelectControl,{label:"Corners",value:n,options:[{label:"Default",value:"default"},{label:"Narrow",value:"narrow"}],onChange:e=>o({corners:e})}),(0,i.jsx)(t.SelectControl,{label:"Lines",value:l,options:[{label:"Default",value:"default"},{label:"Big",value:"big"}],onChange:e=>o({lines:e})})]}),u=JSON.parse('{"UU":"thermal-display/remote-time-grid"}');(()=>{const e=s(document);document.head.appendChild(e)})(),(0,e.registerBlockType)(u.UU,{edit:function({attributes:e,setAttributes:o}){(0,n.useEffect)((()=>{const e=document.querySelectorAll("iframe");for(let l=0;l<e.length;l++){const t=e[l];if("editor-canvas"===t.name){const e=t.contentWindow.document;if(!r(e)){const l=s(e);e.head.appendChild(l)}}}}),[]);const{url:a,subfolder:u,by:d,palette:h}=e,[v,p]=(0,n.useState)(void 0),[b,m]=(0,n.useState)(!1),x=(0,n.useCallback)((e=>{try{return new URL(e),!0}catch(e){return!1}}),[]),f=(0,n.useCallback)((e=>{if("string"==typeof e){const l=e.trim();return l.length>0?l:void 0}}),[]),g=(0,n.useCallback)(((e,l,t)=>{if(!x(e))return;let n=`${e}?${t}&grid`;return l&&(n+=`&scope=${l}`),n}),[x]),w=(0,n.useCallback)((async()=>{p(void 0),m(!1);const e=g(a,u,d),l=await fetch(e);if(l.ok){const e=await l.json();"success"in e&&"data"in e&&!0===e.success&&(console.log(e),m(!0))}console.log(e)}),[a,u,g]);(0,n.useEffect)((()=>{a&&u&&d&&w()}),[]);const y=(0,n.useMemo)((()=>[{value:"hours",label:"By hours"},{value:"days",label:"By days"},{value:"weeks",label:"By weeks"},{value:"months",label:"By months"},{value:"years",label:"By years"}]),[]);return(0,n.useMemo)((()=>y.map((e=>e.value))),[y]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.InspectorControls,{children:(0,i.jsxs)(t.PanelBody,{title:"Values",children:[(0,i.jsx)(t.TextControl,{label:"API endpoint",help:"Provide the URL of the API endpoint",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:e=>{o({url:f(e)})},value:a,required:!0,type:"url"}),(0,i.jsx)(t.TextControl,{label:"Subfolder",help:"Provide the name of the optional subfolder",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:e=>{o({subfolder:f(e)})},value:u}),(0,i.jsx)(t.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:"Grouping",onChange:e=>{o({by:e})},options:y}),(0,i.jsx)(t.Button,{onClick:w,variant:"primary",children:"Fetch information"}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(t.SelectControl,{label:"Palette",value:h,options:[{label:"Iron",value:"iron"},{label:"Jet",value:"jet"},{label:"Grayscale",value:"grayscale"}],onChange:e=>o({palette:e})}),(0,i.jsx)(c,{...e,setter:o})]})}),(0,i.jsx)("div",{...(0,l.useBlockProps)(),children:!1===b?(0,i.jsx)(t.Placeholder,{label:"A remote folder time grid",instructions:"Fill in the URL, and an optional subfolder in the sidebar.",icon:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 512 512",children:(0,i.jsx)("g",{children:(0,i.jsxs)("g",{id:"Vrstva_1",children:[(0,i.jsx)("path",{d:"M327.6,240c-5.4-4.7-13.6-7.1-24.6-7.1h-51.9v60.8h52c10.9,0,19-2.4,24.6-7.2s8.2-12.7,8.2-23.6-2.8-18.1-8.3-22.8Z"}),(0,i.jsx)("path",{d:"M252.4,0L18.9,90.7h-.6v421.3h466.9V90.7h.6L252.4,0ZM161.8,411.9h-47.5v-216h47.5v216ZM342.1,411.9c-2.8-7.9-4.5-16.2-4.9-24.6-.6-9.5-1.5-18.4-2.7-27.2-1.6-11.3-5-19.5-10.3-24.8s-13.8-7.9-25.7-7.9h-47.5v84.4h-47.5v-215.9h116.4c8.9-.1,17.8,1.5,26.2,4.7,7.4,2.9,14.2,7.3,19.9,12.8,5.5,5.4,9.8,11.8,12.7,18.9,3,7.3,4.5,15.2,4.4,23.1.3,11.5-2.4,22.9-7.9,33-6,9.9-15.3,17.3-26.2,21.2v.6c5.3,1.3,10.3,3.9,14.5,7.4,3.8,3.3,7,7.3,9.4,11.8,2.5,4.7,4.3,9.7,5.3,15,1.1,5.4,1.9,10.9,2.3,16.3.2,3.4.4,7.5.6,12.1s.6,9.2,1.1,14.2c.5,4.6,1.3,9.2,2.4,13.7.9,4,2.6,7.7,5,11.1h-47.6Z"})]})})})}):(0,i.jsx)("remote-grid-app",{url:a,subfolder:u,palette:h,by:d,style:{pointerEvents:"none"},skin:e.skin,lines:e.lines,corners:e.corners})})]})},icon:{src:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 512 512",children:(0,i.jsx)("g",{children:(0,i.jsxs)("g",{id:"Layer one",children:[(0,i.jsx)("path",{d:"M327.6,240c-5.4-4.7-13.6-7.1-24.6-7.1h-51.9v60.8h52c10.9,0,19-2.4,24.6-7.2s8.2-12.7,8.2-23.6-2.8-18.1-8.3-22.8Z"}),(0,i.jsx)("path",{d:"M252.4,0L18.9,90.7h-.6v421.3h466.9V90.7h.6L252.4,0ZM161.8,411.9h-47.5v-216h47.5v216ZM342.1,411.9c-2.8-7.9-4.5-16.2-4.9-24.6-.6-9.5-1.5-18.4-2.7-27.2-1.6-11.3-5-19.5-10.3-24.8s-13.8-7.9-25.7-7.9h-47.5v84.4h-47.5v-215.9h116.4c8.9-.1,17.8,1.5,26.2,4.7,7.4,2.9,14.2,7.3,19.9,12.8,5.5,5.4,9.8,11.8,12.7,18.9,3,7.3,4.5,15.2,4.4,23.1.3,11.5-2.4,22.9-7.9,33-6,9.9-15.3,17.3-26.2,21.2v.6c5.3,1.3,10.3,3.9,14.5,7.4,3.8,3.3,7,7.3,9.4,11.8,2.5,4.7,4.3,9.7,5.3,15,1.1,5.4,1.9,10.9,2.3,16.3.2,3.4.4,7.5.6,12.1s.6,9.2,1.1,14.2c.5,4.6,1.3,9.2,2.4,13.7.9,4,2.6,7.7,5,11.1h-47.6Z"})]})})})}})}},t={};function n(e){var o=t[e];if(void 0!==o)return o.exports;var a=t[e]={exports:{}};return l[e](a,a.exports,n),a.exports}n.m=l,e=[],n.O=(l,t,o,a)=>{if(!t){var s=1/0;for(u=0;u<e.length;u++){for(var[t,o,a]=e[u],r=!0,i=0;i<t.length;i++)(!1&a||s>=a)&&Object.keys(n.O).every((e=>n.O[e](t[i])))?t.splice(i--,1):(r=!1,a<s&&(s=a));if(r){e.splice(u--,1);var c=o();void 0!==c&&(l=c)}}return l}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[t,o,a]},n.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={749:0,321:0};n.O.j=l=>0===e[l];var l=(l,t)=>{var o,a,[s,r,i]=t,c=0;if(s.some((l=>0!==e[l]))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(i)var u=i(n)}for(l&&l(t);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},t=globalThis.webpackChunkthermal_display=globalThis.webpackChunkthermal_display||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))})();var o=n.O(void 0,[321],(()=>n(184)));o=n.O(o)})();