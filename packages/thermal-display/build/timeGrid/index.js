(()=>{"use strict";var e,t={507:()=>{const e=window.wp.blocks,t=window.wp.blockEditor,n=window.wp.components,o=window.wp.element,r="labir_embed_lib_dynamical",l=window.location.origin,s=e=>{const t=e.createElement("script");return t.type="module",t.id=r,t.innerHTML=`import '${l}/wp-content/plugins/thermal-display/assets/embed.esm.js'`,t},a=e=>!!e.getElementById(r),i=window.ReactJSXRuntime,c=JSON.parse('{"UU":"thermal-display/remote-time-grid"}');(()=>{const e=s(document);document.head.appendChild(e)})(),(0,e.registerBlockType)(c.UU,{edit:function({attributes:e,setAttributes:r}){(0,o.useEffect)((()=>{const e=document.querySelectorAll("iframe");for(let t=0;t<e.length;t++){const n=e[t];if("editor-canvas"===n.name){const e=n.contentWindow.document;if(!a(e)){const t=s(e);e.head.appendChild(t)}}}}),[]);const{url:l,subfolder:c,by:d,palette:h}=e,[u,p]=(0,o.useState)(void 0),[v,b]=(0,o.useState)(!1),m=(0,o.useCallback)((e=>{try{return new URL(e),!0}catch(e){return!1}}),[]),x=(0,o.useCallback)((e=>{if("string"==typeof e){const t=e.trim();return t.length>0?t:void 0}}),[]),f=(0,o.useCallback)(((e,t,n)=>{if(!m(e))return;let o=`${e}?${n}&grid`;return t&&(o+=`&scope=${t}`),o}),[m]),w=(0,o.useCallback)((async()=>{p(void 0),b(!1);const e=f(l,c,d),t=await fetch(e);if(t.ok){const e=await t.json();"success"in e&&"data"in e&&!0===e.success&&(console.log(e),b(!0))}console.log(e)}),[l,c,f]);(0,o.useEffect)((()=>{l&&c&&d&&w()}),[]);const g=(0,o.useMemo)((()=>[{value:"hours",label:"By hours"},{value:"days",label:"By days"},{value:"weeks",label:"By weeks"},{value:"months",label:"By months"},{value:"years",label:"By years"}]),[]);return(0,o.useMemo)((()=>g.map((e=>e.value))),[g]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.InspectorControls,{children:(0,i.jsxs)(n.PanelBody,{title:"Values",children:[(0,i.jsx)(n.TextControl,{label:"API endpoint",help:"Provide the URL of the API endpoint",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:e=>{r({url:x(e)})},value:l,required:!0,type:"url"}),(0,i.jsx)(n.TextControl,{label:"Subfolder",help:"Provide the name of the optional subfolder",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:e=>{r({subfolder:x(e)})},value:c}),(0,i.jsx)(n.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:"Grouping",onChange:e=>{r({by:e})},options:g}),(0,i.jsx)(n.Button,{onClick:w,variant:"primary",children:"Fetch information"}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(n.SelectControl,{label:"Palette",value:h,options:[{label:"Iron",value:"iron"},{label:"Jet",value:"jet"},{label:"Grayscale",value:"grayscale"}],onChange:e=>r({palette:e})})]})}),(0,i.jsx)("div",{...(0,t.useBlockProps)(),children:!1===v?(0,i.jsx)(n.Placeholder,{label:"A remote folder time grid",instructions:"Fill in the URL, and an optional subfolder in the sidebar.",icon:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 512 512",children:(0,i.jsx)("g",{children:(0,i.jsxs)("g",{id:"Vrstva_1",children:[(0,i.jsx)("path",{d:"M327.6,240c-5.4-4.7-13.6-7.1-24.6-7.1h-51.9v60.8h52c10.9,0,19-2.4,24.6-7.2s8.2-12.7,8.2-23.6-2.8-18.1-8.3-22.8Z"}),(0,i.jsx)("path",{d:"M252.4,0L18.9,90.7h-.6v421.3h466.9V90.7h.6L252.4,0ZM161.8,411.9h-47.5v-216h47.5v216ZM342.1,411.9c-2.8-7.9-4.5-16.2-4.9-24.6-.6-9.5-1.5-18.4-2.7-27.2-1.6-11.3-5-19.5-10.3-24.8s-13.8-7.9-25.7-7.9h-47.5v84.4h-47.5v-215.9h116.4c8.9-.1,17.8,1.5,26.2,4.7,7.4,2.9,14.2,7.3,19.9,12.8,5.5,5.4,9.8,11.8,12.7,18.9,3,7.3,4.5,15.2,4.4,23.1.3,11.5-2.4,22.9-7.9,33-6,9.9-15.3,17.3-26.2,21.2v.6c5.3,1.3,10.3,3.9,14.5,7.4,3.8,3.3,7,7.3,9.4,11.8,2.5,4.7,4.3,9.7,5.3,15,1.1,5.4,1.9,10.9,2.3,16.3.2,3.4.4,7.5.6,12.1s.6,9.2,1.1,14.2c.5,4.6,1.3,9.2,2.4,13.7.9,4,2.6,7.7,5,11.1h-47.6Z"})]})})})}):(0,i.jsx)("remote-grid-app",{url:l,subfolder:c,palette:h,by:d,style:{pointerEvents:"none"}})})]})},icon:{src:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 512 512",children:(0,i.jsx)("g",{children:(0,i.jsxs)("g",{id:"Layer one",children:[(0,i.jsx)("path",{d:"M327.6,240c-5.4-4.7-13.6-7.1-24.6-7.1h-51.9v60.8h52c10.9,0,19-2.4,24.6-7.2s8.2-12.7,8.2-23.6-2.8-18.1-8.3-22.8Z"}),(0,i.jsx)("path",{d:"M252.4,0L18.9,90.7h-.6v421.3h466.9V90.7h.6L252.4,0ZM161.8,411.9h-47.5v-216h47.5v216ZM342.1,411.9c-2.8-7.9-4.5-16.2-4.9-24.6-.6-9.5-1.5-18.4-2.7-27.2-1.6-11.3-5-19.5-10.3-24.8s-13.8-7.9-25.7-7.9h-47.5v84.4h-47.5v-215.9h116.4c8.9-.1,17.8,1.5,26.2,4.7,7.4,2.9,14.2,7.3,19.9,12.8,5.5,5.4,9.8,11.8,12.7,18.9,3,7.3,4.5,15.2,4.4,23.1.3,11.5-2.4,22.9-7.9,33-6,9.9-15.3,17.3-26.2,21.2v.6c5.3,1.3,10.3,3.9,14.5,7.4,3.8,3.3,7,7.3,9.4,11.8,2.5,4.7,4.3,9.7,5.3,15,1.1,5.4,1.9,10.9,2.3,16.3.2,3.4.4,7.5.6,12.1s.6,9.2,1.1,14.2c.5,4.6,1.3,9.2,2.4,13.7.9,4,2.6,7.7,5,11.1h-47.6Z"})]})})})}})}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,o),l.exports}o.m=t,e=[],o.O=(t,n,r,l)=>{if(!n){var s=1/0;for(d=0;d<e.length;d++){n=e[d][0],r=e[d][1],l=e[d][2];for(var a=!0,i=0;i<n.length;i++)(!1&l||s>=l)&&Object.keys(o.O).every((e=>o.O[e](n[i])))?n.splice(i--,1):(a=!1,l<s&&(s=l));if(a){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[n,r,l]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={749:0,321:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,l,s=n[0],a=n[1],i=n[2],c=0;if(s.some((t=>0!==e[t]))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(i)var d=i(o)}for(t&&t(n);c<s.length;c++)l=s[c],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(d)},n=self.webpackChunk_labir_wordpress=self.webpackChunk_labir_wordpress||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[321],(()=>o(507)));r=o.O(r)})();