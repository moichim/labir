(()=>{"use strict";var e,l={404:()=>{const e=window.wp.blocks,l=window.wp.blockEditor,o=window.wp.components,a=window.wp.element,t="labir_embed_lib_dynamical",n=window.location.origin,r=e=>{const l=e.createElement("script");return l.type="module",l.id=t,l.innerHTML=`import '${n}/wp-content/plugins/thermal-display/assets/embed.esm.js'`,l},i=e=>!!e.getElementById(t),s=window.ReactJSXRuntime,c=({skin:e,lines:l,corners:a,setter:t})=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.SelectControl,{label:"Skin",value:e,options:[{label:"Default",value:"default"},{label:"Dark",value:"dark"},{label:"Dark HC",value:"darkhc"},{label:"Solarized",value:"solarized"},{label:"System",value:"system"}],onChange:e=>t({skin:e})}),(0,s.jsx)(o.SelectControl,{label:"Corners",value:a,options:[{label:"Default",value:"default"},{label:"Narrow",value:"narrow"}],onChange:e=>t({corners:e})}),(0,s.jsx)(o.SelectControl,{label:"Lines",value:l,options:[{label:"Default",value:"default"},{label:"Big",value:"big"}],onChange:e=>t({lines:e})})]}),d=e=>(0,s.jsxs)("span",{className:"badge",children:[e.icon,(0,s.jsx)("span",{children:e.children})]}),p=JSON.parse('{"UU":"thermal-display/connected"}');(()=>{const e=r(document);document.head.appendChild(e)})(),(0,e.registerBlockType)(p.UU,{edit:function({attributes:e,setAttributes:t}){(0,a.useEffect)((()=>{const e=document.querySelectorAll("iframe");for(let l=0;l<e.length;l++){const o=e[l];if("editor-canvas"===o.name){const e=o.contentWindow.document;if(!i(e)){const l=r(e);e.head.appendChild(l)}}}}),[]);const{serverUrl:n,apiRoot:p,path:h,fileName:x,palette:u,displayMode:v,compact:b,folderMode:g,by:m,disableLogging:j,replaceWithLogin:k,pathLock:f,label:y,labelTooltip:_,labelIcon:w,labelIconStyle:C,labelVariant:z}=e,[S,M]=(0,a.useState)(""),B=(0,a.useMemo)((()=>{const e=k?(0,s.jsxs)(o.Tip,{children:[(0,s.jsxs)("strong",{children:["'",k,"'"]})," bude v cestě ke složce nahrazeno loginem uživatele aktuálně přihlášeného k LabIR Serveru."]}):void 0;return h?x?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d,{icon:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"size-5",children:(0,s.jsx)("path",{d:"M3.75 3A1.75 1.75 0 0 0 2 4.75v3.26a3.235 3.235 0 0 1 1.75-.51h12.5c.644 0 1.245.188 1.75.51V6.75A1.75 1.75 0 0 0 16.25 5h-4.836a.25.25 0 0 1-.177-.073L9.823 3.513A1.75 1.75 0 0 0 8.586 3H3.75ZM3.75 9A1.75 1.75 0 0 0 2 10.75v4.5c0 .966.784 1.75 1.75 1.75h12.5A1.75 1.75 0 0 0 18 15.25v-4.5A1.75 1.75 0 0 0 16.25 9H3.75Z"})}),children:h}),(0,s.jsx)(d,{icon:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"size-5",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M1 5.25A2.25 2.25 0 0 1 3.25 3h13.5A2.25 2.25 0 0 1 19 5.25v9.5A2.25 2.25 0 0 1 16.75 17H3.25A2.25 2.25 0 0 1 1 14.75v-9.5Zm1.5 5.81v3.69c0 .414.336.75.75.75h13.5a.75.75 0 0 0 .75-.75v-2.69l-2.22-2.219a.75.75 0 0 0-1.06 0l-1.91 1.909.47.47a.75.75 0 1 1-1.06 1.06L6.53 8.091a.75.75 0 0 0-1.06 0l-2.97 2.97ZM12 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",clipRule:"evenodd"})}),children:x}),e]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d,{icon:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"size-5",children:(0,s.jsx)("path",{d:"M3.75 3A1.75 1.75 0 0 0 2 4.75v3.26a3.235 3.235 0 0 1 1.75-.51h12.5c.644 0 1.245.188 1.75.51V6.75A1.75 1.75 0 0 0 16.25 5h-4.836a.25.25 0 0 1-.177-.073L9.823 3.513A1.75 1.75 0 0 0 8.586 3H3.75ZM3.75 9A1.75 1.75 0 0 0 2 10.75v4.5c0 .966.784 1.75 1.75 1.75h12.5A1.75 1.75 0 0 0 18 15.25v-4.5A1.75 1.75 0 0 0 16.25 9H3.75Z"})}),children:h}),e]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d,{icon:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"size-5",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-5.5-2.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM10 12a5.99 5.99 0 0 0-4.793 2.39A6.483 6.483 0 0 0 10 16.5a6.483 6.483 0 0 0 4.793-2.11A5.99 5.99 0 0 0 10 12Z",clipRule:"evenodd"})}),children:"Přihlašovací stránka k serveru"}),(0,s.jsx)(o.Tip,{children:"Není vyplněná cesta ke složce. Po přihlášení bude uživatel procházet všechny své soubory."}),e]})}),[h,x,k]),N=(0,a.useCallback)((()=>{if(S)try{const e=new URL(S),l={serverUrl:e.origin};e.searchParams.forEach(((e,o)=>{switch(o){case"palette":l.palette=e;break;case"folder-path":l.path=e;break;case"file-name":l.fileName=e;break;case"display-mode":l.displayMode=e;break;case"folder-mode":l.folderMode=e;break;case"compact":l.compact="true"===e||"1"===e;break;case"grid-grouping":l.by=e}})),t(l)}catch(e){return void console.error("Invalid URL:",e)}}),[S,t]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.InspectorControls,{children:[(0,s.jsxs)("div",{style:{padding:"1em"},children:[(0,s.jsx)(o.TextControl,{label:"Parsovat URL",help:"Vložte sdílecí URL z LabIR Serveru a spusťte parsování.",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:e=>M(e),value:S,required:!0,type:"string"}),(0,s.jsx)(o.Button,{variant:"primary",onClick:N,children:"Parsovat"})]}),n&&p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.PanelBody,{title:"Obsah",children:[(0,s.jsx)(o.TextControl,{label:"Cesta ke složce",help:"Vyplňte cestu ke složce na LabIR Serveru. Bez '/data' na začátku!",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:e=>t({path:e}),value:h,required:!0,type:"string"}),(0,s.jsx)(o.TextControl,{label:"Zamknout cestu ke složce na",help:"Prohlížeč neumožní uživatele vidět obsah nad tuto cestu.",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:e=>t({pathLock:e}),value:f,required:!0,type:"string"}),(0,s.jsx)(o.TextControl,{label:"File name",help:"If a folder is provided in the path, specify the file name to display.",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:e=>t({fileName:e}),value:x,type:"string"}),(0,s.jsx)(o.TextControl,{label:"Nahradit přihlašovacím jménem",help:"Pokud je tento blok zobrazen v zamčené sekci, v cestě bude uvedený text nahrazen přihlašovacím jménem uživatele.",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:e=>t({replaceWithLogin:e}),value:k,type:"string"}),(0,s.jsx)(o.BaseControl,{__nextHasNoMarginBottom:!0,id:"wp-components-base-control-0",label:"Co se zobrazí",children:(0,s.jsx)("div",{style:{boxSizing:"border-box",padding:"1em",border:"1px solid #ccc",borderRadius:"1em",background:"#f9f9f9",display:"flex",flexDirection:"column",width:"100%",gap:"0.5em"},children:B})})]}),(0,s.jsxs)(o.PanelBody,{title:"Zobrazení",initialOpen:!1,children:[(0,s.jsx)(o.ToggleControl,{__nextHasNoMarginBottom:!0,checked:j,label:"Zakázat přihlašování na server",onChange:e=>{t({disableLogging:e})}}),(0,s.jsx)(o.SelectControl,{label:"Palette",value:u,options:[{label:"Iron",value:"iron"},{label:"Jet",value:"jet"},{label:"Grayscale",value:"grayscale"}],onChange:e=>t({palette:e})}),(0,s.jsx)(o.SelectControl,{label:"Zobrazení podsložek",help:"Pokud jsou v uvedené cestě podsložky, jak se mají zobrazit?",value:g,options:[{label:"Tabulka podsložek",value:"table-subfolders"},{label:"Mřížka podsložek",value:"grid-subfolders"},{label:"Soubory podsložek v mřížce podle času",value:"grid-files"}],onChange:e=>t({folderMode:e})}),"grid-files"!==g&&(0,s.jsx)(o.SelectControl,{label:"Zobrazení souborů ve složce",help:"Pokud jsou ve složce soubory, jak se mají zobrazit?",value:v,options:[{label:"Soubory v tabulce",value:"table"},{label:"Soubory v mřížce",value:"grid"}],onChange:e=>t({displayMode:e})}),"grid-files"===g&&(0,s.jsx)(o.SelectControl,{label:"Seskupení mřížky souborů",value:m,options:[{label:"Po hodinách",value:"hour"},{label:"Po dnech",value:"day"},{label:"Po týdnech",value:"week"},{label:"Po měsících",value:"month"},{label:"Po rocích",value:"year"}],onChange:e=>t({by:e})}),"grid"===v&&"grid-files"!==g&&(0,s.jsx)(o.ToggleControl,{__nextHasNoMarginBottom:!0,checked:b,label:"Kompaktní zobrazení",onChange:e=>{t({compact:e})}}),(0,s.jsx)(c,{...e,setter:t})]})]}):(0,s.jsx)("div",{style:{padding:"1em"},children:(0,s.jsxs)(o.Tip,{children:["Nejprve vyplňte všechny údaje v záložce ",(0,s.jsx)("em",{children:"Server"})," anebo vložte sdílecí odkaz přímo ze serveru."]})}),(0,s.jsxs)(o.PanelBody,{title:"Popiska",initialOpen:!1,children:[(0,s.jsx)(o.TextControl,{label:"Text popisky",help:"Zadejte text, který se zobrazí jako popiska nad zobrazením.",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:e=>t({label:e}),value:y,type:"string"}),(0,s.jsx)(o.TextControl,{label:"Tooltip popisky",help:"Zadejte text, který se zobrazí v tooltipu popisky.",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:e=>t({labelTooltip:e}),value:_,type:"string"}),(0,s.jsx)(o.TextControl,{label:"Ikona popisky (interní identifikátor ikony)",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:e=>t({labelIcon:e}),value:w,type:"string"}),(0,s.jsx)(o.TextControl,{label:"Styl ikony popisky (interní styl ikony)",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:e=>t({labelIconStyle:e}),value:C,type:"string"}),(0,s.jsx)(o.TextControl,{label:"Variant ikony popisky (interní varianta ikony)",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:e=>t({labelVariant:e}),value:z,type:"string"})]}),(0,s.jsxs)(o.PanelBody,{title:"Server",initialOpen:!1,children:[(0,s.jsx)(o.TextControl,{label:"Server URL",help:"Provide the base URL of the LabIR Server.",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:e=>t({serverUrl:e}),value:n,required:!0,type:"url"}),(0,s.jsx)(o.TextControl,{label:"API endpoint",help:"Provide the API root endpoint. Usually '/api'",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onChange:e=>t({apiRoot:e}),value:p,required:!0,type:"string"})]})]}),(0,s.jsx)("div",{...(0,l.useBlockProps)(),children:(0,s.jsx)(o.Tooltip,{text:"Click to edit",delay:300,hideOnClick:!1,children:(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"thermal__content-editor__container",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("connected-app",{"server-url":n,"api-root":p,"folder-path":h,"file-name":x,palette:u,displaymode:v,"disable-logging":j?"true":"false","folder-mode":g,"grid-grouping":m,compact:b?"true":"false","locked-location":f,label:y,"label-tooltip":_,"label-icon":w,"label-icon-style":C,"label-variant":z,skin:e.skin,lines:e.lines,corners:e.corners}),(0,s.jsx)("div",{className:"thermal__content-editor__wrapper",children:(0,s.jsx)("div",{children:"Edit parameters in the sidebar."})})]})})})})})]})},icon:{src:(0,s.jsxs)("svg",{id:"Vrstva_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[(0,s.jsx)("rect",{x:"1",width:"511",height:"406.08",rx:"19.65",ry:"19.65"}),(0,s.jsx)("line",{x1:"31.36",y1:"30",x2:"100.3",y2:"30",fill:"none",stroke:"#818080","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"11.89"}),(0,s.jsxs)("g",{children:[(0,s.jsx)("line",{x1:"279.91",y1:"92.51",x2:"410.74",y2:"92.51",fill:"none",stroke:"#818080","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"11.89"}),(0,s.jsx)("line",{x1:"279.91",y1:"120.08",x2:"396.65",y2:"120.08",fill:"none",stroke:"#818080","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"11.89"}),(0,s.jsx)("line",{x1:"279.91",y1:"147.66",x2:"470.3",y2:"147.66",fill:"none",stroke:"#818080","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"11.89"}),(0,s.jsx)("line",{x1:"279.91",y1:"175.23",x2:"355.95",y2:"175.23",fill:"none",stroke:"#818080","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"11.89"})]}),(0,s.jsxs)("g",{children:[(0,s.jsx)("path",{d:"M483.05,512v-171.78s.02-.09.03-.13c1.15-6.15-2.24-12.25-8.07-14.51l-96.57-37.53c-1.51-.59-3.11-.88-4.71-.88h0c-1.6,0-3.19.29-4.71.88l-95.38,37.05c-5.62,1.44-9.77,6.53-9.77,12.6v174.31h219.17Z",fill:"#fff"}),(0,s.jsx)("polyline",{points:"373.74 300.17 470.3 337.69 470.05 337.69 470.05 512 276.88 512 276.88 337.69 277.13 337.69 373.74 300.17"}),(0,s.jsx)("path",{d:"M353.14,468.3h23.02v-40.9h23.02c5.77,0,9.89,1.26,12.45,3.83,2.57,2.57,4.22,6.54,4.99,12.02.58,4.26,1.02,8.58,1.31,13.18.19,4.05,1.01,8.06,2.36,11.87h-.03l.05.05s-.01-.03-.02-.05h23.03c-1.16-1.65-1.99-3.44-2.42-5.38-.53-2.18-.92-4.41-1.16-6.64-.24-2.42-.44-4.65-.53-6.88s-.19-4.22-.29-5.86c-.19-2.62-.58-5.28-1.11-7.9-.48-2.57-1.36-4.99-2.57-7.27-1.16-2.18-2.71-4.12-4.55-5.72-2.04-1.7-4.46-2.96-7.03-3.59v-.29c5.28-1.89,9.79-5.48,12.7-10.27,2.67-4.89,3.97-10.42,3.83-15.99.05-3.83-.68-7.66-2.13-11.19-1.41-3.44-3.49-6.54-6.15-9.16-2.76-2.67-6.06-4.8-9.64-6.2-3.95-1.51-8.13-2.28-12.31-2.28-.13,0-.25,0-.38,0h-56.4v104.62",fill:"#fff"}),(0,s.jsx)("polyline",{points:"309.91 468.35 332.93 468.35 332.93 363.69 309.91 363.69 309.91 468.35",fill:"#fff"}),(0,s.jsxs)("g",{children:[(0,s.jsx)("path",{d:"M413.27,385.05c-2.62-2.28-6.59-3.44-11.92-3.44h-25.15v29.46h25.2c5.28,0,9.21-1.16,11.92-3.49,2.71-2.33,3.97-6.15,3.97-11.44s-1.36-8.77-4.02-11.05v-.05Z"}),(0,s.jsx)("path",{d:"M401.35,381.61c5.33,0,9.3,1.16,11.92,3.44v.05c2.67,2.28,4.02,5.77,4.02,11.05s-1.26,9.11-3.97,11.44c-2.71,2.33-6.64,3.49-11.92,3.49h-25.2v-29.46h25.15"})]})]}),(0,s.jsxs)("g",{children:[(0,s.jsx)("path",{d:"M204.29,237.65V95.71c0-7.44-6.03-13.47-13.47-13.47h-74.87c-7.44,0-13.47,6.03-13.47,13.47v141.94c-16.05,14.58-25.12,35.38-24.59,57.65.98,41.15,35.35,74.21,76.51,73.66,41.18-.54,74.51-34.21,74.51-75.51,0-21.56-9.01-41.62-24.62-55.8Z",fill:"#fff"}),(0,s.jsx)("path",{d:"M181.29,248.96v-97.14h-55.81v97.14c-14.78,9.29-24.62,25.74-24.62,44.49,0,29.34,24.99,53.47,54.32,52.48,28.17-.95,50.72-24.09,50.72-52.49,0-18.75-9.83-35.19-24.62-44.49Z"})]})]})}})}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return l[e](n,n.exports,a),n.exports}a.m=l,e=[],a.O=(l,o,t,n)=>{if(!o){var r=1/0;for(d=0;d<e.length;d++){for(var[o,t,n]=e[d],i=!0,s=0;s<o.length;s++)(!1&n||r>=n)&&Object.keys(a.O).every((e=>a.O[e](o[s])))?o.splice(s--,1):(i=!1,n<r&&(r=n));if(i){e.splice(d--,1);var c=t();void 0!==c&&(l=c)}}return l}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[o,t,n]},a.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={201:0,221:0};a.O.j=l=>0===e[l];var l=(l,o)=>{var t,n,[r,i,s]=o,c=0;if(r.some((l=>0!==e[l]))){for(t in i)a.o(i,t)&&(a.m[t]=i[t]);if(s)var d=s(a)}for(l&&l(o);c<r.length;c++)n=r[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},o=globalThis.webpackChunkthermal_display=globalThis.webpackChunkthermal_display||[];o.forEach(l.bind(null,0)),o.push=l.bind(null,o.push.bind(o))})();var t=a.O(void 0,[221],(()=>a(404)));t=a.O(t)})();